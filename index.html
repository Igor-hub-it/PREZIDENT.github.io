<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRESIDENT</title>
    <link rel="icon" type="image/x-icon" href="images/favicon_02.ico">
    <link rel="stylesheet" href="fonts/fonts.css">
    <link rel="stylesheet" href="styles/auth.css">
    <link rel="stylesheet" href="styles/quiz.css">
    <link rel="stylesheet" href="styles/faq.css">
    <link rel="stylesheet" href="styles/cheese.css">
    <link rel="stylesheet" href="styles/overlay.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/mobile-menu.css">
    <link rel="stylesheet" href="styles/words.css">
    <link rel="stylesheet" href="styles/placeholder.css">
    <link rel="stylesheet" href="styles/products.css">
    <link rel="stylesheet" href="styles/choose-cheese.css">
    <link rel="stylesheet" href="styles/cheese-buttons.css">
    <link rel="stylesheet" href="styles/cheese-button-modal.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Circe Rounded', Arial, sans-serif;
        }

        * {
            -webkit-tap-highlight-color: transparent;
        }

        .characteristics-top-image {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: auto;
            z-index: 1;
        }

        .characteristics-top-image-petite {
            width: 220px;
            top: -89px;
            transform: translateX(-50%);
        }

        .characteristics-top-image-camamber {
            width: 220px;
            top: -102px;
            transform: translateX(-50%);
        }

        .characteristics-top-image-blue {
            width: 200px;
            top: -69px;
            left: 57%;
            transform: translateX(-50%);
        }

        .characteristics-top-image-fondant {
            width: 240px;
            top: -53px;
            transform: translateX(-50%);
        }

        .modal-characteristics .modal-content {
            padding-top: 60px;
        }

        .modal-mold .modal-title {
            margin-top: 120px;
        }

        .modal-mold .modal-mold-subtitle {
            width: 90%;
            margin-top: 0;
            font-size: 2.2vh;
            color: #FFE26B;
        }
    </style>
</head>
<body>
    <div class="background"></div>
    <div class="placeholder-container">
        <div class="placeholder"></div>
        <div class="placeholder-shadow"></div>
    </div>

    <div class="word-drum word-drum-1">
        <div class="word word-1">Настоящее</div>
        <div class="word word-2">Настоящая</div>
        <div class="word word-3">Настоящий</div>
    </div>

    <div class="word-drum word-drum-2">
        <div class="word word-4">удовольствие</div>
        <div class="word word-5">легенда</div>
        <div class="word word-6">вкус</div>
    </div>

    <header class="header">
        <img src="images/header-red.webp" alt="Header Red" class="header-red">
        <img src="images/header-yellow.webp" alt="Header Yellow" class="header-yellow">
        <div class="logo-background"></div>
            <img src="images/logo.webp" alt="Logo" class="logo" onclick="showCardsBack()">
        <div class="header-container">
        <div class="nav-buttons">
            <button class="nav-button">Благородные сыры</button>
            <button class="nav-button">Частые вопросы</button>
        </div>
        <div class="right-buttons">
            <button class="quiz-button">
                <span>Пройти сырный квиз</span>
            </button>
            <button class="enter-button">
                <img src="images/enter.webp" alt="Enter">
                <span>Вход</span>
            </button>
            </div>
        </div>
        <div class="burger-menu">
            <div class="burger-line"></div>
            <div class="burger-line"></div>
            <div class="burger-line"></div>
        </div>
        <img src="images/arrow-left.webp" alt="Back" class="header-back-arrow">
    </header>

    <img src="images/arrow-left.webp" alt="Back" class="desktop-back-arrow">

    <div class="mobile-menu">
        <button class="nav-button">Благородные сыры</button>
        <button class="nav-button">Частые вопросы</button>
        <button class="quiz-button">Пройти сырный квиз</button>
        <button class="enter-button">
            <img src="images/enter.webp" alt="Enter">
            <span>Вход</span>
        </button>
    </div>

    <div class="content-wrapper">
        <img src="images/slate.webp" alt="Slate" class="slate-desktop">
        <img src="images/slate-mobile.webp" alt="Slate" class="slate-mobile">
        <img src="images/honey.webp" alt="Honey" class="product honey">
        <img src="images/brie_.webp" alt="Brie" class="product brie">
        <img src="images/brie-mobile.webp" alt="Brie" class="product brie-mobile">
        <img src="images/brie-box.webp" alt="Brie Box" class="product brie-box">
        <img src="images/camamber-box.webp" alt="Camamber" class="product camamber">
        <img src="images/brush.webp" alt="Brush" class="product brush-desktop">
        <img src="images/brush.webp" alt="Brush" class="product brush-mobile">
        <img src="images/camambert_.webp" alt="Camambert" class="product camambert">
        <img src="images/camambert-mobile.webp" alt="Camambert" class="product camambert-mobile">
        <img src="images/grape.webp" alt="Grape" class="product grape">
    </div>

    <div class="overlay">
        <div class="cards-container">
            <div class="card">
                <div class="card-circle">
                    <span>1</span>
                </div>
                <div class="card-text">Станьте настоящим экспертом в мире благородных сыров!</div>
            </div>
            <div class="card">
                <div class="card-circle">
                    <span>2</span>
                </div>
                <div class="card-text">Раскройте все грани сыров с благородной плесенью President</div>
            </div>
            <div class="card">
                <div class="card-circle">
                    <span>3</span>
                </div>
                <div class="card-text">Примите участие в сырном квизе и выиграйте изысканные призы!</div>
            </div>
        </div>
        <button class="discover-button active"><span>ВПЕРЕД, К БЛАГОРОДНЫМ ОТКРЫТИЯМ!</span></button>
    </div>

    <div class="cheese-modal">
        <img src="images/close.webp" alt="Close" class="cheese-modal-close">
        <div class="cheese-modal-content">
            <h2 class="cheese-modal-title">ОКУНИТЕСЬ В МИР ОТТЕНКОВ ИЗЫСКАННОГО ВКУСА НАСТОЯЩЕГО БЛАГОРОДНОГО СЫРА PRÈSIDENT!</h2>
            <div class="cheese-slider-container">
                <img class="cheese-slider-arrow prev" src="images/arrow-left.webp" alt="Назад">
                <div class="cheese-grid">
                    <div class="cheese-card">
                        <img src="images/brie-box-demo.webp" alt="Brie" class="great-cheese-image">
                        <h3 class="cheese-name">Brie</h3>
                        <p class="cheese-description">Классический сыр с благородной плесенью, знаменитый своей бархатистой корочкой и глубоким сливочным вкусом</p>
                    </div>
                    <div class="cheese-card">
                        <img src="images/camamber-box-demo.webp" alt="Camamber" class="great-cheese-image">
                        <h3 class="cheese-name">Camamber</h3>
                        <p class="cheese-description">Легендарный сыр с нежной сердцевиной и пикантным вусом тонкой бархатистой корочки</p>
                    </div>
                    <div class="cheese-card">
                        <img src="images/cremiot.webp" alt="Le Cremiot Extra Fondant" class="great-cheese-image">
                        <h3 class="cheese-name">Le Cremiot Extra Fondant</h3>
                        <p class="cheese-description">Сыр с нежнейшей кремовой текстурой, который буквально тает во рту.</p>
                    </div>
                    <div class="cheese-card">
                        <img src="images/bleu.webp" alt="Royal Blue" class="great-cheese-image">
                        <h3 class="cheese-name">Royal Blue</h3>
                        <p class="cheese-description">Сыр с голубой плесенью и уникальным вкусом, который достигается благодаря длинному сроку созревания (до 90 дней)</p>
                    </div>
                    <div class="cheese-card">
                        <img src="images/brique.webp" alt="La Brique" class="great-cheese-image">
                        <h3 class="cheese-name">La Brique</h3>
                        <p class="cheese-description">Тонкая корочка, текучая текстура и бесподобный вкус с прятными нотками тёплого молока и фундка</p>
                    </div>
                    <div class="cheese-card">
                        <img src="images/snack.webp" alt="Red Snack" class="great-cheese-image">
                        <h3 class="cheese-name">Red Snack</h3>
                        <p class="cheese-description">Уникальный насыщенный вкус с пикантными дымными нотками и сливочным послевкусием</p>
                    </div>
                    <div class="cheese-card">
                        <img src="images/grill.webp" alt="Grill" class="great-cheese-image">
                        <h3 class="cheese-name">Camembert Grill</h3>
                        <p class="cheese-description"> Легендарный французский сыр с бархатистой белой корочкой при запекании становится еще более нежным, а вкус раскрывается с новой стороны. Подходит для запекания в духовке, на гриле, а также для жарки на сковородке. 
                        </p>
                    </div>
                    <div class="cheese-card">
                        <img src="images/lingot.webp" alt="Lingot" class="great-cheese-image">
                        <h3 class="cheese-name">Lingot</h3>
                        <p class="cheese-description">Lingot - это настоящий слиток удовольствия для любителей французских сыров. Этот мягкий сыр с белой корочкой имеет прямоугольную форму, благодаря которой его удобно нарезать на сэндвичи. Также Lingot прекрасно запекается.
                        </p>
                    </div>
                    <div class="cheese-card">
                        <img src="images/snack_france.webp" alt="France" class="great-cheese-image">
                        <h3 class="cheese-name">Snack a la Francaise</h3>
                        <p class="cheese-description">Снэк a la Francaise President - это перекус по-французски. Традиционный французский сыр с белой корочкой удобно резать на небольшие кружочки благодаря "разметке".   Побалуйте себя изысканным перекусом или дополните этим снэком сырную тарелку.</p>
                    </div>
                </div>
                <img class="cheese-slider-arrow next" src="images/arrow-right.webp" alt="Вперёд">
            </div>
        </div>
    </div>

    <div class="faq-modal">
        <div class="faq-modal-content">
            <h2 class="faq-modal-title">Часто задаваемые вопросы</h2>
            <div class="faq-modal-content-inner">
                <img src="images/close.webp" alt="Close" class="faq-modal-close">
                <div class="faq-container">
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Можно ли есть корочку сыра с плесенью?</span>
                            <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                        </div>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <ul>
                                    <li>Да, корочка этих сыров съедобна и придает им особый вкус.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Чем отличается белая и голубая плесень?</span>
                            <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                        </div>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <ul>
                                    <li>Белая плесень образует мягкую, бархатистую корочку, а голубая придает сыру пикантный вкус и мраморную текстуру.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Как правильно хранить благородные сыры?</span>
                            <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                        </div>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <ul>
                                    <li>Лучше всего – в пергаменте или контейнере в отделении для сыра в холодильнике.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>С чем лучше сочетать такие сыры?</span>
                            <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                        </div>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <ul>
                                    <li>Благородные сыры прекрасно подходят к фруктам, орехам, меду, вину и багету.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            <span>В чем отличие Бри от Камамбера?</span>
                            <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                        </div>
                        <div class="faq-answer">
                            <div class="faq-answer-content">
                                <ul>
                                    <li>Бри и Камамбер – оба сыра с благородной плесенью, но у них есть ряд различий. Бри President имеет бархатистую корочку, сливочную сердцевину и нежный вкус. А Камамбер President - это сочетание ярко выраженного пикантного вкуса и тонкой корочки, которая со временем приобретает острые нотки.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-modal">
        <div class="quiz-modal-content">
            <img src="images/quiz-1.webp" alt="Quiz" class="quiz-image quiz-image-1">
            <div class="quiz-text">Пройдите сырный квиз, чтобы узнать больше о настоящих благородных сырах и принять участие в розыгрыше приза!</div>
            <div class="quiz-options">
                <button class="quiz-option start-quiz">Начать</button>
                <button class="quiz-rules">Правила акции</button>
            </div>
        </div>
    </div>

    <div class="auth-modal">
        <div class="auth-modal-content">
            <button class="auth-modal-close">
                <img src="images/close.webp" alt="Close">
            </button>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login"><span>ВХОД</span></button>
                <button class="auth-tab" data-tab="register"><span>РЕГИСТРАЦИЯ</span></button>
            </div>
            
            <form id="authForm" class="auth-form active">
                <div class="form-group register-only">
                    <label>Имя</label>
                    <input type="text" name="name" placeholder="Пантелеймон">
                    <div class="error-message"></div>
                </div>
                <div class="form-group register-only">
                    <label>Фамилия</label>
                    <input type="text" name="surname" placeholder="Портнов">
                    <div class="error-message"></div>
                </div>
                <div class="form-group">
                    <label>E-mail</label>
                    <input type="text" name="email" placeholder="khristaroj@gmail.com">
                    <div class="error-message show">Поле заполнено неправильно</div>
                </div>
                <div class="form-group">
                    <label>Пароль</label>
                    <input type="text" name="password" placeholder="Введите пароль">
                    <div class="error-message"></div>
                </div>
                <div class="form-group register-only">
                    <label>Телефон</label>
                    <input type="text" name="phone" placeholder="+7 999 888-66-77">
                    <div class="error-message"></div>
                </div>
                <div class="form-checkbox login-only">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Запомнить меня</label>
                </div>
                <div class="form-checkbox register-only">
                    <input type="checkbox" id="authRules">
                    <label for="authRules">
                        Я соглашаюсь с <button type="button" class="rules-link">Правилами</button>
                    </label>
                </div>
                <button type="submit" class="auth-submit"><span>Войти</span></button>
            </form>
        </div>
    </div>

    <div class="choose-cheese-container">
        <button class="cheese-choice-button"><span>PRÉSIDENT БРИ</span></button>
        <button class="cheese-choice-button"><span>PRÉSIDENT КАМАМБЕР</span></button>
        <button class="cheese-choice-button"><span>PRÉSIDENT ROYAL BLEU</span></button>
        <button class="cheese-choice-button"><span>LE CREMIOT EXTRA FOUNDANT</span></button>
    </div>

    <div class="mobile-slider">
        <div class="slider-container">
            <div class="slider-track">
                <div class="slide">
                    <img src="images/petite.webp" alt="Petite" class="slide-image petite-slider">
                    <button class="slide-button" data-cheese="petite"><span>PRÉSIDENT БРИ</span></button>
                </div>
                <div class="slide">
                    <img src="images/camamber-box-shadow.webp" alt="Camamber" class="slide-image camamber-box-slider">
                    <button class="slide-button" data-cheese="camamber"><span>PRÉSIDENT КАМАМБЕР</span></button>
                </div>
                <div class="slide">
                    <img src="images/bleu-shadow.webp" alt="Blue" class="slide-image blue-slider">
                    <button class="slide-button" data-cheese="blue"><span>PRÉSIDENT ROYAL BLEU</span></button>
                </div>
                <div class="slide">
                    <img src="images/fondant.webp" alt="Fondant" class="slide-image fondant-slider">
                    <button class="slide-button" data-cheese="fondant"><span>LE CREMIOT EXTRA FOUNDANT</span></button>
                </div>
            </div>
        </div>
        <button class="slider-arrow slider-arrow-left">
            <img src="images/arrow-left.webp" alt="Previous">
        </button>
        <button class="slider-arrow slider-arrow-right">
            <img src="images/arrow-right.webp" alt="Next">
        </button>
    </div>

    <div class="selected-cheese">
        <img src="" alt="Selected Cheese" class="selected-cheese-image">
    </div>

    <div class="cheese-text-container">
        <h2 class="cheese-title">Раскройте все грани</br> благородного вкуса с Président!</h2>
        <p class="cheese-subtitle">Выберите сыр, о котором хотите узнать больше</p>
    </div>

    <div class="cheese-info-card">
        <div class="cheese-info-name"></div>
        <div class="cheese-info-details">
            <p class="cheese-info-maturation"></p>
            <p class="cheese-info-fat"></p>
        </div>
    </div>

    <div class="cheese-info-card-desktop">
        <div class="cheese-info-name"></div>
        <div class="cheese-info-details">
            <p class="cheese-info-maturation"></p>
            <p class="cheese-info-fat"></p>
        </div>
    </div>

    <div class="selected-cheese-text">
        <p>Разрежьте, чтобы узнать больше о настоящем <span class="selected-cheese-name"></span>!</p>
    </div>

    <div class="selected-cheese-text-desktop">
        <p>Разрежьте, чтобы узнать больше о настоящем <span class="selected-cheese-name"></span>!</p>
    </div>

    <div class="cheese-images-grid">
        <img src="images/b_01.webp" class="cheese-grid-image" alt="Cheese 1">
        <img src="images/b_02.webp" class="cheese-grid-image" alt="Cheese 2">
        <img src="images/b_03.webp" class="cheese-grid-image" alt="Cheese 3">
        <img src="images/b_04.webp" class="cheese-grid-image" alt="Cheese 4">
        <img src="images/b_05.webp" class="cheese-grid-image" alt="Cheese 5">
        <img src="images/b_06.webp" class="cheese-grid-image" alt="Cheese 6">
        <img src="images/b_07.webp" class="cheese-grid-image" alt="Cheese 7">
        <img src="images/b_08.webp" class="cheese-grid-image" alt="Cheese 8">
    </div>

    <div class="cheese-buttons-grid" data-cheese="petite">
        <button class="cheese-button" data-modal-type="description" data-content-key="Как отличить настоящий сыр бри?"><span>Как отличить</br> настоящий сыр бри?</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Бри – сыр королей"><span>Бри – сыр королей</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Ассортимент"><span>Ассортимент</span></button>
        <button class="cheese-button" data-modal-type="mold"><span>Культура плесени</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="С чем сочетать Бри President?"><span>С чем сочетать</br> Бри President?</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Настоящий вкус!"><span>Настоящий вкус!</span></button>
        <button class="cheese-button" data-modal-type="characteristics"><span>Органолептика</span></button>
        <button class="cheese-button" data-modal-type="images"><span>Общая информация</span></button>
    </div>

    <div class="cheese-buttons-grid" data-cheese="camamber">
        <button class="cheese-button" data-modal-type="description" data-content-key="Когда появился камабер?"><span>Когда появился камабер? </span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Настоящая легенда!"><span>Настоящая легенда!</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Ассортимент"><span>Ассортимент</span></button>
        <button class="cheese-button" data-modal-type="mold"><span>Культура плесени</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="С чем сочетать Камамбер?"><span>С чем сочетать</br>Камамбер?</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Отличительная особенность"><span>Отличительная</br>особенность</span></button>
        <button class="cheese-button" data-modal-type="characteristics"><span>Органолептика</span></button>
        <button class="cheese-button" data-modal-type="images"><span>Общая информация</span></button>
    </div>

    <div class="cheese-buttons-grid" data-cheese="blue">
        <button class="cheese-button" data-modal-type="description" data-content-key="Богатая история"><span>Богатая история</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Настоящий вкус!"><span>Настоящий вкус!</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="С чем сочетать?"><span>С чем сочетать?</span></button>
        <button class="cheese-button" data-modal-type="mold"><span>Культура плесени</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Цвет настоящей благородной плесени"><span>Цвет настоящей</br>благородной плесени</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Мраморный рисунок"><span>Мраморный рисунок</span></button>
        <button class="cheese-button" data-modal-type="images"><span>Общая информация</span></button>
        <button class="cheese-button" data-modal-type="characteristics"><span>Органолептика</span></button>
    </div>

    <div class="cheese-buttons-grid" data-cheese="fondant">
        <button class="cheese-button" data-modal-type="description" data-content-key="Текстура"><span>Текстура</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Настоящее удовольствие"><span>Настоящее</br>удовольствие</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="С чем сочетать?"><span>С чем сочетать?</span></button>
        <button class="cheese-button" data-modal-type="mold"><span>Культура плесени</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Что такое Extra Fondant?"><span>Что такое Extra Fondant?</span></button>
        <button class="cheese-button" data-modal-type="description" data-content-key="Рецепт"><span>Рецепт</span></button>
        <button class="cheese-button" data-modal-type="characteristics"><span>Органолептика</span></button>
        <button class="cheese-button" data-modal-type="images"><span>Общая информация</span></button>
    </div>

    <img src="images/knife.webp" class="knife-image" alt="Knife">
    <img src="images/paw.webp" class="paw-image" alt="Paw">

    <img src="images/petite.webp" alt="Petite" class="cheese-image petite">
    <img src="images/camamber-box-shadow.webp" alt="camamber" class="cheese-image camamber-box">
    <img src="images/bleu-shadow.webp" alt="blue" class="cheese-image blue">
    <img src="images/fondant-shadow.webp" alt="fondant" class="cheese-image fondant">

    <!-- Модальные окна -->
    <div class="modal-overlay"></div>

    <!-- Модальное окно с 4 изображениями -->
    <div class="modal modal-images">
        <div class="modal-content">
            <img src="images/close.webp" alt="Close" class="modal-close">
            <div class="modal-images-grid">
                <img src="" alt="Image 1" class="modal-image modal-image-1">
                <img src="" alt="Image 2" class="modal-image modal-image-2">
                <img src="" alt="Image 3" class="modal-image modal-image-3">
                <img src="" alt="Image 4" class="modal-image modal-image-4">
            </div>
            <div class="modal-text-blocks">
                <div class="modal-text-block modal-text-block-1"></div>
                <div class="modal-text-block modal-text-block-2"></div>
                <div class="modal-text-block modal-text-block-3"></div>
            </div>
            <button class="modal-understand-button"><span>Понятно</span></button>
        </div>
    </div>

    <!-- Модальное окно с характеристиками -->
    <div class="modal modal-characteristics">
        <div class="modal-content">
            <img src="images/close.webp" alt="Close" class="modal-close">
            <img src="images/characteristics-top.webp" alt="Characteristics" class="characteristics-top-image">
            <div class="characteristics-container">
                <div class="characteristic-block">
                    <h3>Мягкость текстуры</h3>
                    <p>(в середине срока годности)</p>
                    <div class="characteristic-images">
                        <img src="" alt="Char 1" class="char-image char-image-1">
                        <img src="" alt="Char 2" class="char-image char-image-2">
                        <img src="" alt="Char 3" class="char-image char-image-3">
                        <img src="" alt="Char 4" class="char-image char-image-4">
                        <img src="" alt="Char 5" class="char-image char-image-5">
                    </div>
                </div>
                <div class="characteristic-block">
                    <h3>Интенсивность аромата</h3>
                    <div class="characteristic-images">
                        <img src="" alt="Char 1" class="char-image char-image-1">
                        <img src="" alt="Char 2" class="char-image char-image-2">
                        <img src="" alt="Char 3" class="char-image char-image-3">
                        <img src="" alt="Char 4" class="char-image char-image-4">
                        <img src="" alt="Char 5" class="char-image char-image-5">
                    </div>
                </div>
                <div class="characteristic-block">
                    <h3>Интенсивность вкуса</h3>
                    <div class="characteristic-images">
                        <img src="" alt="Char 1" class="char-image char-image-1">
                        <img src="" alt="Char 2" class="char-image char-image-2">
                        <img src="" alt="Char 3" class="char-image char-image-3">
                        <img src="" alt="Char 4" class="char-image char-image-4">
                        <img src="" alt="Char 5" class="char-image char-image-5">
                    </div>
                </div>
            </div>
            <button class="modal-understand-button"><span>Понятно</span></button>
        </div>
    </div>

    <!-- Модальное окно культуры плесени -->
    <div class="modal modal-mold">
        <div class="modal-content">
            <img src="images/close.webp" alt="Close" class="modal-close">
            <img src="" alt="Selected Cheese" class="modal-cheese-image">
            <h2 class="modal-title">Культура плесени</h2>
            <h3 class="modal-mold-subtitle"></h3>
            <button class="modal-understand-button"><span>Понятно</span></button>
        </div>
    </div>

    <!-- Модальное окно с описанием -->
    <div class="modal modal-description">
        <div class="modal-content">
            <img src="images/close.webp" alt="Close" class="modal-close">
            <img src="" alt="Selected Cheese" class="modal-cheese-image">
            <h2 class="modal-subtitle"></h2>
            <p class="modal-text"></p>
            <button class="modal-understand-button"><span>Понятно</span></button>
        </div>
    </div>

    <!-- Модальное окно приглашения к квизу -->
    <div class="quiz-invite-modal">
        <div class="quiz-invite-modal-content">
            <img src="images/close.webp" alt="Close" class="quiz-invite-modal-close">
            <div class="quiz-invite-text">Пройдите сырный квиз и участвуйте в розыгрыше призов</div>
            <button class="quiz-invite-button"><span>Участвовать</span></button>
        </div>
    </div>

<script>
let isFirstLoad = true;
const slateMobile = document.querySelector('.slate-mobile');
const slateDesktop = document.querySelector('.slate-desktop');
const burgerMenu = document.querySelector('.burger-menu');
const wordDrums = document.querySelectorAll('.word-drum');
const brushMobile = document.querySelector('.brush-mobile');
const brushDesktop = document.querySelector('.brush-desktop');
const mobileMenu = document.querySelector('.mobile-menu');
const overlay = document.querySelector('.overlay');
const cardsContainer = document.querySelector('.cards-container');
const discoverButton = document.querySelector('.discover-button');
const cheeseModal = document.querySelector('.cheese-modal');
const cheeseModalClose = document.querySelector('.cheese-modal-close');
const nobleCheeseButtons = document.querySelectorAll('.nav-button:first-child');
const placeholderContainer = document.querySelector('.placeholder-container');
const placeholderShadow = document.querySelector('.placeholder-shadow');
const products = document.querySelectorAll('.product');
const header = document.querySelector('.header');
const faqModal = document.querySelector('.faq-modal');
const faqModalClose = document.querySelector('.faq-modal-close');
const faqItems = document.querySelectorAll('.faq-item');
const faqButtons = document.querySelectorAll('.nav-button:nth-child(2)');

const quizModal = document.querySelector('.quiz-modal');
const quizButtons = document.querySelectorAll('.quiz-button');
const startQuizButton = document.querySelector('.start-quiz');
const quizRulesButton = document.querySelector('.quiz-rules');
let currentStep = 0;

const quizData = [
    {
        image: 'quiz-1.webp',
        text: 'Пройдите сырный квиз,</br> чтобы узнать больше о настоящих</br> благородных сырах и принять</br> участие в розыгрыше приза!',
        options: ['Начать!', 'Правила акции'],
        isStart: true
    },
    {
        image: 'quiz-2.webp',
        questionNumber: '1/5',
        text: 'Какой температуры стоит</br> подавать настоящий Камамбер?',
        options: ['Холодным', 'Горячим', 'Комнатной температуры'],
        correctAnswer: 'Комнатной температуры',
        description: 'Камамбер Président рекомендуется</br> продержать около получаса</br> при комнатной температуре. Именно</br> тогда его уникальные вкусовые качества</br> смогут раскрыться полностью.'
    },
    {
        image: 'quiz-3.webp',
        questionNumber: '2/5',
        text: 'Каким ножом лучше нарезать</br> настоящий Бри?',
        options: ['Ножом для чистки овощей', 'Ножом с перфорацией', 'Хлебным ножом'],
        correctAnswer: 'Ножом с перфорацией',
        description: 'для нарезки Бри Président идеально</br> подойдёт специальный нож</br> с перфорацией. Если вы нарезаете</br> сыр обычным ножом, то рекомендуется</br> смочить лезвие тёплой водой.'
    },
    {
        image: 'quiz-4.webp',
        questionNumber: '3/5',
        text: 'Что придаёт настоящему</br> Камамберу особый пикантный</br> вкус?',
        options: ['Культуры Geotrichum candidum', 'Особые специи', 'Penicillium candidum'],
        correctAnswer: 'Культуры Geotrichum candidum',
        description: 'Камамбер Président обладает пикантным,</br> слегка острым вкусом благодаря</br> большему количеству Geotrichum</br> candidum, используемых</br> при изготовлении.'
    },
    {
        image: 'quiz-5.webp',
        questionNumber: '4/5',
        text: 'Какое из утверждений верно?',
        options: [
            'Камамбер имеет более грибной вкус и тонкую корочку, а Бри более сливочный вкус и мягкий внутри',
            'У Бри более толстая корочка, чем у Камамбера.',
            'Камамбер не имеет корочки, в отличие от Бри, который всегда имеет выраженную корочку.'
        ],
        correctAnswer: 'Камамбер имеет более грибной вкус и тонкую корочку, а Бри более сливочный вкус и мягкий внутри',
        description: 'Камамбер обычно имеет более</br> насыщенный грибной вкус и более тонкую корочку, в то время как Бри может быть более мягким и сливочным.'
    },
    {
        image: 'logo.webp',
        questionNumber: '5/5',
        text: 'В каком году начинается история</br> камамбера Président?',
        options: ['2016', '1952', '1968'],
        correctAnswer: '1968',
        description: 'в 1968 компания Lactalis выпускает</br> камамбер под новой торговой маркой</br> Président, которая стала символом</br> традиций, мастерства и высокого</br> качества.'
    },
    {
        image: 'quiz-1.webp',
        text: 'Поздравляем, вы прошли квиз.</br> Примите участие в розыгрыше</br> специального приза — </br>Сертификат ЯндексGO на 500 ₽!',
        options: ['Участвовать в розыгрыше'],
        isFinal: true
    }
];

function updateQuizContent(step) {
    const content = quizModal.querySelector('.quiz-modal-content');
    const data = quizData[step];
    
    // Сначала скрываем текущие элементы
    const currentImage = content.querySelector('.quiz-image');
    const currentText = content.querySelector('.quiz-text');
    if (currentImage) currentImage.classList.remove('visible');
    if (currentText) currentText.classList.remove('visible');
    
    // Обновляем контент
    content.innerHTML = `
        <img src="images/close.webp" alt="Close" class="quiz-modal-close">
        <img src="images/${data.image}" alt="Quiz" class="quiz-image quiz-image-${step + 1}">
        ${data.questionNumber ? `<div class="quiz-question-number">${data.questionNumber}</div>` : ''}
        <div class="quiz-text">${data.text}</div>
        <div class="quiz-options">
            ${data.isStart ? `
                <button class="quiz-option"><span>${data.options[0]}</span></button>
                <button class="quiz-rules">${data.options[1]}</button>
            ` : data.options.map(option => `
                <button class="quiz-option"><span>${option}</span></button>
            `).join('')}
        </div>
    `;

    // Добавляем обработчик для кнопки закрытия
    const closeButton = content.querySelector('.quiz-modal-close');
    if (closeButton) {
        closeButton.addEventListener('click', closeQuizModal);
    }

    // Добавляем классы visible с небольшой задержкой для анимации
    requestAnimationFrame(() => {
        const newImage = content.querySelector('.quiz-image');
        const newText = content.querySelector('.quiz-text');
        const options = content.querySelector('.quiz-options');
        
        if (newImage) newImage.classList.add('visible');
        if (newText) newText.classList.add('visible');
        if (options) options.classList.add('visible');
    });

    if (data.isStart) {
        const startButton = content.querySelector('.quiz-option');
        const rulesButton = content.querySelector('.quiz-rules');
        startButton.addEventListener('click', () => updateQuizContent(1));
        rulesButton.addEventListener('click', () => {
            window.open('/files/rules.pdf', '_blank');
        });
    } else if (data.isFinal) {
        const participateButton = content.querySelector('.quiz-option');
        participateButton.addEventListener('click', () => {
            // Здесь можно добавить логику для участия в розыгрыше
            showQuizSuccessScreen();
        });
    } else {
        const options = content.querySelectorAll('.quiz-option');
        options.forEach(option => {
            option.addEventListener('click', () => {
                const isCorrect = option.querySelector('span').textContent === data.correctAnswer;
                
                // Скрываем текущие элементы
                const currentImage = content.querySelector('.quiz-image');
                const currentText = content.querySelector('.quiz-text');
                if (currentImage) currentImage.classList.remove('visible');
                if (currentText) currentText.classList.remove('visible');
                
                content.innerHTML = `
                    <img src="images/close.webp" alt="Close" class="quiz-modal-close">
                    <img src="images/${data.image}" alt="Quiz" class="quiz-image quiz-image-${step + 1}">
                    <div class="quiz-question-number">${data.questionNumber}</div>
                    <div class="quiz-text">${data.text}</div>
                    <div class="quiz-result">${isCorrect ? 'Правильно!' : 'Не правильно'}</div>
                    <div class="quiz-description">${data.description}</div>
                    <button class="quiz-next"><span>Далее</span></button>
                `;

                const closeButton = content.querySelector('.quiz-modal-close');
                if (closeButton) {
                    closeButton.addEventListener('click', closeQuizModal);
                }
                
                // Добавляем классы visible с небольшой задержкой для анимации
                requestAnimationFrame(() => {
                    const newImage = content.querySelector('.quiz-image');
                    const newText = content.querySelector('.quiz-text');
                    const nextButton = content.querySelector('.quiz-next');
                    
                    if (newImage) newImage.classList.add('visible');
                    if (newText) newText.classList.add('visible');
                    if (nextButton) nextButton.classList.add('visible');
                });
                
                const nextButton = content.querySelector('.quiz-next');
                nextButton.addEventListener('click', () => {
                    if (step < quizData.length - 1) {
                        updateQuizContent(step + 1);
                    }
                });
            });
        });
    }
}

function openQuizModal() {
    quizModal.classList.add('active');
    document.body.style.overflow = 'hidden';
    currentStep = 0;
    updateQuizContent(currentStep);
}

function closeQuizModal() {
    quizModal.classList.remove('active');
    document.body.style.overflow = '';
}

quizButtons.forEach(button => {
    button.addEventListener('click', openQuizModal);
});

quizModal.addEventListener('click', (e) => {
    if (e.target === quizModal) {
        closeQuizModal();
    }
});

// Функция для применения анимации
function applyAnimation(element, animationName) {
    if (!element) return;
    element.style.animation = 'none';
    element.offsetHeight;
    element.style.animation = `${animationName} 1s ease-in-out forwards`;
}

// Функция для показа продуктов
function showProducts() {
    products.forEach(product => {
        if (!product) return;
        product.classList.add('active');
        
        if (window.innerWidth <= 768) {
            if (product.classList.contains('slate-mobile')) {
                applyAnimation(product, 'firstShowSlateMobile');
            } else if (product.classList.contains('brie-mobile')) {
                applyAnimation(product, 'showBrieMobile');
            } else if (product.classList.contains('camambert-mobile')) {
                applyAnimation(product, 'showCamambertMobile');
            } else if (product.classList.contains('brush-mobile')) {
                applyAnimation(product, 'showBrushMobile');
            } else if (product.classList.contains('grape')) {
                applyAnimation(product, 'showGrapeMobile');
            } else if (product.classList.contains('camamber')) {
                applyAnimation(product, 'showCamamberMobile');
            } else if (product.classList.contains('brie-box')) {
                applyAnimation(product, 'showBrieBoxMobile');
            }
        } else {
            if (product.classList.contains('honey')) {
                applyAnimation(product, 'showHoney');
            } else if (product.classList.contains('brie')) {
                applyAnimation(product, 'showBrie');
            } else if (product.classList.contains('brie-box')) {
                applyAnimation(product, 'showBrieBox');
            } else if (product.classList.contains('camamber')) {
                applyAnimation(product, 'showCamamber');
            } else if (product.classList.contains('brush-desktop')) {
                applyAnimation(product, 'showBrushDesktop');
            } else if (product.classList.contains('camambert')) {
                applyAnimation(product, 'showCamambert');
            } else if (product.classList.contains('grape')) {
                applyAnimation(product, 'showGrape');
            }
        }
    });

    if (window.innerWidth <= 768) {
        if (slateMobile) {
            slateMobile.classList.add('active');
            applyAnimation(slateMobile, 'firstShowSlateMobile');
        }
    } else {
        if (slateDesktop) {
            slateDesktop.classList.add('active');
            if (window.innerWidth > 2570) {
                applyAnimation(slateDesktop, 'showSlateExtraBigDesktop');
            } else if (window.innerWidth > 2060) {
                applyAnimation(slateDesktop, 'showSlateBigDesktop');
            } else if (window.innerWidth <= 2060) {
                applyAnimation(slateDesktop, 'showSlateDesktop');
            }
        }
    }
}

// Функция для скрытия продуктов
function hideProducts(context = 'discover') {
    products.forEach(product => {
        if (!product) return;
        
        if (window.innerWidth <= 768) {
            if (product.classList.contains('brie-mobile')) {
                applyAnimation(product, context === 'burger' ? 'hideBrieMobile' : 'hideSideBrieMobile');
            } else if (product.classList.contains('camambert-mobile')) {
                applyAnimation(product, context === 'burger' ? 'hideCamambertMobile' : 'hideSideCamambertMobile');
            } else if (product.classList.contains('brush-mobile')) {
                applyAnimation(product, context === 'burger' ? 'hideBrushMobile' : 'hideSideBrushMobile');
            } else if (product.classList.contains('grape')) {
                applyAnimation(product, context === 'burger' ? 'hideGrapeMobile' : 'hideSideGrapeMobile');
            } else if (product.classList.contains('camamber')) {
                applyAnimation(product, context === 'burger' ? 'hideCamamberMobile' : 'hideSideCamamberMobile');
            } else if (product.classList.contains('brie-box')) {
                applyAnimation(product, context === 'burger' ? 'hideBrieBox' : 'hideSideBrieBox');
            }
        } else {
            if (product.classList.contains('honey')) {
                applyAnimation(product, 'hideHoney');
            } else if (product.classList.contains('brie')) {
                applyAnimation(product, 'hideBrie');
            } else if (product.classList.contains('brie-box')) {
                applyAnimation(product, 'hideBrieBox');
            } else if (product.classList.contains('camamber')) {
                applyAnimation(product, 'hideCamamber');
            } else if (product.classList.contains('brush-desktop')) {
                applyAnimation(product, 'hideBrushDesktop');
            } else if (product.classList.contains('camambert')) {
                applyAnimation(product, 'hideCamambert');
            } else if (product.classList.contains('grape')) {
                applyAnimation(product, 'hideGrape');
            }
        }
    });

    if (window.innerWidth <= 768) {
        if (slateMobile) {
            // slateMobile.classList.remove('active');
            // slateMobile.style.animation = 'none';
            // slateMobile.offsetHeight;
            // slateMobile.style.bottom = '-200vh';
            // slateMobile.style.left = '150%';
            // slateMobile.style.opacity = '0';
        }
    } else {
        if (slateDesktop) {
            if (window.innerWidth > 2570) {
                applyAnimation(slateDesktop, 'scaleUpSlateExtraBigDesktop');
            } else if (window.innerWidth > 2060) {
                applyAnimation(slateDesktop, 'scaleUpSlateBigDesktop');
            } else if (window.innerWidth <= 2060) {
                applyAnimation(slateDesktop, 'scaleUpSlateDesktop');
            }
        }
    }
}

// Функция для скрытия слов
function hideWords() {
    wordDrums.forEach(drum => {
        drum.style.animation = 'none';
        drum.offsetHeight;
        drum.style.animation = 'hideWords 0.5s ease-in-out forwards';
    });

    // Скрываем кисть
    const brush = window.innerWidth <= 768 ? brushMobile : brushDesktop;
    if (brush) {
        brush.style.animation = 'none';
        brush.offsetHeight;
        brush.style.animation = 'hideBrush 0.5s ease-in-out forwards';
    }
}

// Функция для показа слов
function showWords() {
    wordDrums.forEach(drum => {
        drum.style.animation = 'none';
        drum.offsetHeight;
        drum.style.animation = 'showWords 0.5s ease-in-out forwards';
    });
}

// Функция для показа карточек
function showCards() {
    // Проверяем, не открыто ли бургер-меню
    if (burgerMenu.classList.contains('active')) {
        return; // Если меню открыто, не показываем карточки
    }
    
    // hideWords();
    setTimeout(() => {
        overlay.classList.add('active');
        cardsContainer.classList.add('active');
        discoverButton.classList.add('active');
    }, 500);
}

function showCardsBack() {
    setTimeout(() => {
        overlay.classList.add('active');
        cardsContainer.classList.add('active');
        discoverButton.classList.add('active');

        //  текстовый блок
        const textContainer = document.querySelector('.cheese-text-container');
        textContainer.classList.remove('active');
        textContainer.style.opacity = '1';

        //  кнопки выбора сыра
        const chooseCheeseContainer = document.querySelector('.choose-cheese-container');
        chooseCheeseContainer.classList.remove('active');

        //  изображение petite
        const petiteImage = document.querySelector('.petite');
        petiteImage.style.animation = 'none';
        petiteImage.offsetHeight; // Форсируем перерисовку
        if(window.innerWidth > 1100) {
            petiteImage.style.animation = 'hidePetite 1s ease-out forwards';
        }

        petiteImage.classList.remove('active');
        //  изображение camamber-box
        const camamberBox = document.querySelector('.camamber-box');
        camamberBox.style.animation = 'none';
        camamberBox.offsetHeight; // Форсируем перерисовку
        if(window.innerWidth > 1100) {
            camamberBox.style.animation = 'hideCamamberBox 1s ease-out forwards';
        }

        camamberBox.classList.remove('active');
        //  изображение blue
        const blue = document.querySelector('.blue');
        blue.style.animation = 'none';
        blue.offsetHeight; // Форсируем перерисовку
        blue.style.animation = 'hideBlue 1s ease-out forwards';
        blue.classList.remove('active');
        //  изображение fondant
        const fondant = document.querySelector('.fondant');
        fondant.style.animation = 'none';
        fondant.offsetHeight; // Форсируем перерисовку
        fondant.style.animation = 'hideFondant 1s ease-out forwards';
        fondant.classList.remove('active');

        // Скрываем карточку с информацией
        const cheeseInfoCard = document.querySelector('.cheese-info-card');
        const cheeseInfoCardDesktop = document.querySelector('.cheese-info-card-desktop');
        cheeseInfoCard.classList.remove('active');
        cheeseInfoCardDesktop.classList.remove('active');
        
        // Скрываем выбранный сыр
        const selectedCheese = document.querySelector('.selected-cheese');
        selectedCheese.classList.remove('active');
        
        // Скрываем текст о выбранном сыре
        const selectedCheeseText = document.querySelector('.selected-cheese-text');
        const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');
        selectedCheeseText.classList.remove('active');
        selectedCheeseTextDesktop.classList.remove('active');
        selectedCheeseTextDesktop.style.opacity = '0';
        selectedCheeseTextDesktop.style.transform = '';
        
        // Скрываем сетку изображений и возвращаем изображения на место
        const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
        cheeseImagesGrid.classList.remove('active');
        cheeseImagesGrid.classList.remove('cutting');
        cheeseImagesGrid.style.left = '';
        cheeseImagesGrid.style.top = '';
        
        // Скрываем все блоки с кнопками
        const buttonsGrids = document.querySelectorAll('.cheese-buttons-grid');
        buttonsGrids.forEach(grid => {
            grid.classList.remove('cutting');
            grid.style.left = '';
            grid.style.top = '';
            grid.style.width = '';
            grid.style.height = '';
        });
        
        // Скрываем нож и лапу
        const knifeImage = document.querySelector('.knife-image');
        const pawImage = document.querySelector('.paw-image');
        knifeImage.classList.remove('active');
        pawImage.classList.remove('active');
        
        // Сбрасываем позицию ножа
        if (window.innerWidth <= 768) {
            knifeImage.style.right = '3%';
            knifeImage.style.top = '70%';
            knifeImage.style.transform = 'translateY(-50%) rotate(3deg)';
        } else {
            knifeImage.style.top = 65 + '%';
            knifeImage.style.opacity = '1';
            knifeImage.style.right = '5%';
            knifeImage.style.transform = 'translateY(-50%) rotate(-30deg)';
        }
        
        // Скрываем стрелку
        desktopBackArrow.classList.remove('active');

        mobileSlider.classList.remove('active');
        mobileSlider.style.opacity = '0';
    
        // Скрываем стрелку
        headerBackArrow.classList.remove('active');

        showProducts();
    }, 500);
}

function hideCards() {
    // Проверяем, не открыто ли бургер-меню
    if (burgerMenu.classList.contains('active')) {
        return; // Если меню открыто, не показываем элементы выбора сыра
    }

    cardsContainer.classList.add('hiding');
    discoverButton.classList.add('hiding');
    hideProducts('discover');
    
    setTimeout(() => {
        overlay.classList.remove('active');
        cardsContainer.classList.remove('active');
        cardsContainer.classList.remove('hiding');
        discoverButton.classList.remove('active');
        discoverButton.classList.remove('hiding');
        
        // Показываем текстовый блок
        const textContainer = document.querySelector('.cheese-text-container');
        textContainer.classList.add('active');
        textContainer.style.opacity = '1';

        // Показываем кнопки выбора сыра
        const chooseCheeseContainer = document.querySelector('.choose-cheese-container');
        chooseCheeseContainer.classList.add('active');

        // Показываем изображение petite
        const petiteImage = document.querySelector('.petite');
        petiteImage.style.animation = 'none';
        petiteImage.offsetHeight; // Форсируем перерисовку
        if(window.innerWidth > 1100) {
            petiteImage.style.animation = 'showPetite 1s ease-out forwards';
        } else if(window.innerWidth <= 1100) {
            petiteImage.style.animation = 'showPetiteTablet 1s ease-out forwards';
        }
        petiteImage.classList.add('active');
        // Показываем изображение camamber-box
        const camamberBox = document.querySelector('.camamber-box');
        camamberBox.style.animation = 'none';
        camamberBox.offsetHeight; // Форсируем перерисовку
        if(window.innerWidth > 1100) {
            camamberBox.style.animation = 'showCamamberBox 1s ease-out forwards';
        } else if(window.innerWidth <= 1100) {
            camamberBox.style.animation = 'showCamamberBoxTablet 1s ease-out forwards';
        }
        camamberBox.classList.add('active');
        // Показываем изображение blue
        const blue = document.querySelector('.blue');
        blue.style.animation = 'none';
        blue.offsetHeight; // Форсируем перерисовку
        blue.style.animation = 'showBlue 1.5s ease-out forwards';
        blue.classList.add('active');
        // Показываем изображение fondant
        const fondant = document.querySelector('.fondant');
        fondant.style.animation = 'none';
        fondant.offsetHeight; // Форсируем перерисовку
        fondant.style.animation = 'showFondant 1s ease-out forwards';
        fondant.classList.add('active');
    }, 1000);
}

// Добавляем обработчик клика для кнопки
discoverButton.addEventListener('click', hideCards);

// При загрузке страницы
window.addEventListener('load', function() {
    // Запускаем анимацию preloader
    placeholderShadow.classList.add('active');
    
    // 1. Сначала показываем preloader (5 секунд)
    setTimeout(() => {
        // 2. Скрываем preloader и показываем header
        applyAnimation(placeholderContainer, 'hidePlaceholder');
        if (header) {
            header.classList.add('active');
        }
        
        // 3. Через 1 секунду показываем продукты и слова
        if(window.innerWidth>768) {
            setTimeout(() => {
                showWords();
            }, 700);
        } else {
            setTimeout(() => {
                showWords();
            }, 700);
        }
        
        showProducts();
            
        // 4. Через 2 секунды показываем карточки

        if(window.innerWidth>768) {
            setTimeout(hideWords, 5000);
            setTimeout(showCards, 5200);
        } else {
            setTimeout(hideWords, 5000);
            setTimeout(showCards, 5200);
        }
    }, 5000);
});

// При клике на бургер-меню
burgerMenu.addEventListener('click', function() {
    this.classList.toggle('active');
    document.querySelector('.content-wrapper').classList.toggle('menu-active');
    mobileMenu.classList.toggle('active');
    
    if (this.classList.contains('active')) {
        hideProducts('burger');
        hideWords();
        
        // Скрываем overlay и карточки
        overlay.classList.remove('active');
        cardsContainer.classList.remove('active');
        discoverButton.classList.remove('active');

        // Закрываем профиль
        closeProfileModal()

        const authModal = document.querySelector('.auth-modal');
        if (authModal.classList.contains('active')) {
            closeAuthModal();
            header.classList.remove('profile-active');
        }

        // Скрываем элементы выбора сыра
        const chooseCheeseContainer = document.querySelector('.choose-cheese-container');
        const cheeseTextContainer = document.querySelector('.cheese-text-container');
        const cheeseImages = document.querySelectorAll('.cheese-image');
        const cheeseInfoCard = document.querySelector('.cheese-info-card');
        const selectedCheese = document.querySelector('.selected-cheese');
        const headerBackArrow = document.querySelector('.header-back-arrow');
        const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
        const knifeImage = document.querySelector('.knife-image');
        const pawImage = document.querySelector('.paw-image');
        const selectedCheeseText = document.querySelector('.selected-cheese-text');
        
        if (chooseCheeseContainer) chooseCheeseContainer.classList.remove('active');
        if (cheeseTextContainer) {
            cheeseTextContainer.classList.remove('active');
            cheeseTextContainer.style.opacity = '0';
        }
        if (cheeseInfoCard) cheeseInfoCard.classList.remove('active');
        if (selectedCheese) selectedCheese.classList.remove('active');
        if (headerBackArrow) headerBackArrow.classList.remove('active');
        if (cheeseImagesGrid) {
            cheeseImagesGrid.classList.remove('active');
            cheeseImagesGrid.classList.remove('cutting');
        }
        const buttonsGrids = document.querySelectorAll('.cheese-buttons-grid');
        buttonsGrids.forEach(grid => {
            grid.classList.remove('cutting');
            grid.style.left = '';
            grid.style.top = '';
            grid.style.width = '';
            grid.style.height = '';
        });
        if (knifeImage) knifeImage.classList.remove('active');
        if (pawImage) pawImage.classList.remove('active');
        if (selectedCheeseText) selectedCheeseText.classList.remove('active');
        
            applyAnimation(slateMobile, 'hideSlateMobile');
    } else {
        showProducts();
            applyAnimation(slateMobile, 'showSlateMobile');

        setTimeout(() => {
            showCards();
        }, 500);
    }
});

// Функция для открытия модального окна с сырами
function openCheeseModal() {
    cheeseModal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Функция для закрытия модального окна с сырами
function closeCheeseModal() {
    cheeseModal.classList.remove('active');
    document.body.style.overflow = '';
}

// Добавляем обработчики событий для кнопок
nobleCheeseButtons.forEach(button => {
    button.addEventListener('click', openCheeseModal);
});

// Обработчик для кнопки закрытия
cheeseModalClose.addEventListener('click', closeCheeseModal);

// Закрытие по клику вне контента
cheeseModal.addEventListener('click', (e) => {
    // Если клик по стрелкам слайдера — не закрывать модалку
    if (e.target.closest('.cheese-slider-arrow')) return;
    const rect = e.target.getBoundingClientRect();
    const clickY = e.clientY;
    const topThreshold = rect.top + 50;
    const bottomThreshold = rect.bottom - 50;

    if (clickY <= topThreshold || clickY >= bottomThreshold) {
        closeCheeseModal();
    }
});

// Функция для открытия FAQ модального окна
function openFaqModal() {
    faqModal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Функция для закрытия FAQ модального окна
function closeFaqModal() {
    faqModal.classList.remove('active');
    document.body.style.overflow = '';
    // Закрываем все аккордионы при закрытии модального окна
    faqItems.forEach(item => {
        item.classList.remove('active');
    });
}

// Добавляем обработчики событий для кнопок FAQ
faqButtons.forEach(button => {
    button.addEventListener('click', openFaqModal);
});

// Обработчик для кнопки закрытия
faqModalClose.addEventListener('click', closeFaqModal);

// Обработка аккордионов
faqItems.forEach(item => {
    const question = item.querySelector('.faq-question');
    question.addEventListener('click', () => {
        // Закрываем все остальные аккордионы
        faqItems.forEach(otherItem => {
            if (otherItem !== item) {
                otherItem.classList.remove('active');
            }
        });
        // Переключаем текущий аккордион
        item.classList.toggle('active');
    });
});

// Авторизация и регистрация
const authModal = document.querySelector('.auth-modal');
const authTabs = document.querySelectorAll('.auth-tab');
const authForms = document.querySelectorAll('.auth-form');
const enterButtons = document.querySelectorAll('.enter-button');
const loginForm = document.getElementById('loginForm');
const registerForm = document.getElementById('registerForm');
let isLogin = true;

// Функция для открытия модального окна авторизации
function openAuthModal() {
    authModal.classList.add('active');
    document.body.style.overflow = 'hidden';
    header.classList.add('profile-active');
    
    // Показываем кнопку закрытия при закрытом профиле
    const authModalClose = document.querySelector('.auth-modal-close');
    authModalClose.style.display = 'block';
    
    // Закрываем бургер-меню если оно открыто
    if (burgerMenu.classList.contains('active')) {
        burgerMenu.classList.remove('active');
        document.querySelector('.content-wrapper').classList.remove('menu-active');
        mobileMenu.classList.remove('active');
        showCards();
        showProducts();
        applyAnimation(slateMobile, 'showSlateMobile');
    }
}

// Функция для закрытия модального окна авторизации
function closeAuthModal() {
    authModal.classList.remove('active');
    document.body.style.overflow = '';
    header.classList.remove('profile-active');
    
    // Сбрасываем состояние модального окна
    const modalContent = document.querySelector('.auth-modal-content');
    const authTabs = document.querySelector('.auth-tabs');
    const authForm = document.getElementById('authForm');
    const successContent = document.querySelector('.success-content');
    
    // Удаляем классы success и successAuth
    modalContent.classList.remove('success', 'successAuth');
    
    // Показываем форму и табы
    authTabs.style.display = 'flex';
    authForm.style.display = 'flex';
    
    // Удаляем контент успешной авторизации/регистрации
    if (successContent) {
        successContent.remove();
    }
}

// Обработчики для кнопок входа
enterButtons.forEach(button => {
    button.addEventListener('click', openAuthModal);
});

// Закрытие по клику вне контента
authModal.addEventListener('click', (e) => {
    if (e.target === authModal) {
        closeAuthModal();
    }
});

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', () => {
    const rememberMeCheckbox = document.querySelector('.form-checkbox.login-only');
    const rulesCheckbox = document.querySelector('.form-checkbox.register-only');
    
    // Устанавливаем начальное состояние чекбоксов
    rememberMeCheckbox.style.display = 'flex';
    rulesCheckbox.style.display = 'none';
});

// Переключение между вкладками
authTabs.forEach(tab => {
    tab.addEventListener('click', () => {
        const targetForm = tab.dataset.tab;
        isLogin = targetForm === 'login' ? true : false;
        
        // Добавляем класс switching для анимации
        const authTabsContainer = document.querySelector('.auth-tabs');
        authTabsContainer.classList.add('switching');
        
        // Удаляем класс switching через 1 секунду
        setTimeout(() => {
            authTabsContainer.classList.remove('switching');
        }, 1000);
        
        // Обновляем активные классы для вкладок
        authTabs.forEach(t => {
            t.classList.remove('active');
            t.style.backgroundColor = '#B10000';
        });
        tab.classList.add('active');
        tab.style.backgroundColor = '#E30613';
        
        // Обновляем атрибут data-form для анимации высоты
        const modalContent = document.querySelector('.auth-modal-content');
        modalContent.setAttribute('data-form', targetForm);
        
        // Обновляем форму
        const authForm = document.getElementById('authForm');
        authForm.setAttribute('data-form', targetForm);
        
        // Управляем видимостью чекбоксов
        const rememberMeCheckbox = document.querySelector('.form-checkbox.login-only');
        const rulesCheckbox = document.querySelector('.form-checkbox.register-only');
        
        if (targetForm === 'login') {
            rememberMeCheckbox.style.display = 'flex';
            rulesCheckbox.style.display = 'none';
        } else {
            rememberMeCheckbox.style.display = 'none';
            rulesCheckbox.style.display = 'flex';
        }
        
        // Обновляем текст кнопки
        const submitButton = authForm.querySelector('.auth-submit');
        submitButton.innerHTML = `<span>${targetForm === 'login' ? 'Войти' : 'Зарегистрироваться'}</span>`;
        
        // Управляем трансформацией
        const authModalContent = document.querySelector('.auth-modal-content');
        //для входа
        if (targetForm === 'login') {
            if(window.innerWidth<=600) {
                authModalContent.style.transform = 'translateY(37%)';
            } else if(window.innerWidth<=768) {
                authModalContent.style.transform = 'translateY(90%)';
            } 
            else {
                authModalContent.style.transform = 'translateY(65%)';
            }
        } else {
            //для регистрации
            if(window.innerWidth<=600) {
                authModalContent.style.transform = 'translateY(21%)';
            } else if(window.innerWidth<=768) {
                authModalContent.style.transform = 'translateY(50%)';
            } else if(window.innerWidth<=1500) {
                authModalContent.style.transform = 'translateY(16%)';
            } else {
                authModalContent.style.transform = 'translateY(23%)';
            }
        }
    });
});

// Обработка формы
const authForm = document.getElementById('authForm');
authForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const formData = new FormData(authForm);
    const data = Object.fromEntries(formData.entries());
    const authModalClose = document.querySelector('.auth-modal-close');
    // const isLogin = authForm.getAttribute('data-form') === 'login';

    console.log(isLogin);
    
    try {
        if(isLogin) {
            showSuccessAuthScreen();
            authModalClose.style.display = 'none';
        } else {
            showSuccessRegScreen();
        }

        const endpoint = isLogin ? '/api/login' : '/api/register';
        const response = await fetch(endpoint, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
        });

        if (response.ok) {
            const responseData = await response.json();
            closeAuthModal();
        } else {
            // alert(isLogin ? 'Ошибка входа' : 'Ошибка регистрации');
        }
    } catch (error) {
        console.error('Ошибка:', error);
        // alert(`Произошла ошибка при попытке ${isLogin ? 'входа' : 'регистрации'}`);
    }
});

// Обработка клика по ссылке "Правила"
const rulesLink = document.querySelector('.rules-link');
rulesLink.addEventListener('click', () => {
    window.open('/files/rules.pdf', '_blank');
});

function showSuccessRegScreen() {
    const modalContent = document.querySelector('.auth-modal-content');
    const authTabs = document.querySelector('.auth-tabs');
    const authForm = document.getElementById('authForm');
    
    modalContent.classList.add('success');
    authTabs.style.display = 'none';
    authForm.style.display = 'none';
    
    const successContent = document.createElement('div');
    successContent.className = 'success-content active';
    successContent.innerHTML = `
        <img src="images/sticker.webp" alt="Sticker" class="success-sticker">
        <h2 class="success-title">Спасибо</br> за регистрацию! 🎉</h2>
        <p class="success-description">Добавьте благородного вкуса в общение с нашим сырным стикерпаком в Telegram!</p>
        <a href="https://t.me/addstickers/president_stickers" class="success-button"><span>Скачать стикеры</span></a>
    `;
    
    modalContent.appendChild(successContent);
}

function closeProfileModal() {
    const profileModal = document.querySelector('.profile-modal.active');
    if (profileModal) {
        profileModal.remove();
        document.body.style.overflow = '';
    }
}

function showSuccessAuthScreen() {
    // Закрываем текущее модальное окно авторизации
    const authModal = document.querySelector('.auth-modal');
    authModal.classList.remove('active');
    
    // Создаем новое модальное окно
    const successModal = document.createElement('div');
    successModal.className = 'profile-modal active';
    successModal.innerHTML = `
        <div class="auth-modal-content successAuth">

            <div class="success-content active">
                <div class="success-blocks">
                    <div class="user-info-block">
                        <div class="user-name-block">
                            <h2 class="user-name">Константинопольский</h2>
                            <h2 class="user-name">Пантелеймон</h2>
                            <h2 class="user-name">Александрович</h2>
                        </div>
                        <div class="user-contact-block">
                            <p class="user-email">E-mail: panteleymon@gmail.ru</p>
                            <div class="user-phone">
                                <span>Телефон: +7 900 900 00</span>
                                <img src="images/logout.webp" alt="Phone" class="phone-icon">
                            </div>
                        </div>
                    </div>
                    <div class="winner-block">
                        <button class="profile-modal-close">
                            <img src="images/close.webp" alt="Close">
                        </button>
                        <h3>Вы участвуете в акции!</h3>
                        <div class="winner-message">
                            <p>Вы выиграли сертификат! Наш менеджер свяжется с вами для вручения в ближайшее время!</p>
                            <img src="images/go.webp" alt="Certificate" class="certificate-icon">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    // Добавляем новое модальное окно в DOM
    document.body.appendChild(successModal);
    
    // Добавляем обработчик закрытия для нового модального окна
    const closeButton = successModal.querySelector('.profile-modal-close');
    closeButton.addEventListener('click', closeProfileModal);
}

// Слайдер для мобильной версии
const mobileSlider = document.querySelector('.mobile-slider');
const sliderTrack = document.querySelector('.slider-track');
const slides = document.querySelectorAll('.slide');
const prevButton = document.querySelector('.slider-arrow-left');
const nextButton = document.querySelector('.slider-arrow-right');
const cheeseTextContainer = document.querySelector('.cheese-text-container');
let currentSlide = 0;

function updateSlider() {
    sliderTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
}

function showSlide(index) {
    currentSlide = index;
    updateSlider();
}

function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    updateSlider();
}

function prevSlide() {
    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    updateSlider();
}

// Функция для скрытия слайдера и текста
function hideSliderAndText(cheeseType) {
    // Скрываем слайдер
    mobileSlider.style.opacity = '0';
    mobileSlider.style.transition = 'opacity 0.5s ease-out';
    
    // Скрываем текст
    cheeseTextContainer.style.opacity = '0';
    cheeseTextContainer.style.transition = 'opacity 0.5s ease-out';
    
    // Удаляем класс active
    setTimeout(() => {
        mobileSlider.classList.remove('active');
        cheeseTextContainer.classList.remove('active');
        
        // Показываем выбранный сыр
        const selectedCheese = document.querySelector('.selected-cheese');
        const selectedCheeseImage = selectedCheese.querySelector('.selected-cheese-image');
        const cheeseInfoCard = document.querySelector('.cheese-info-card');
        const cheeseInfoCardDesktop = document.querySelector('.cheese-info-card-desktop');
        const cheeseInfoName = cheeseInfoCard.querySelector('.cheese-info-name');
        const cheeseInfoNameDesktop = cheeseInfoCardDesktop.querySelector('.cheese-info-name');
        const cheeseInfoMaturation = cheeseInfoCard.querySelector('.cheese-info-maturation');
        const cheeseInfoMaturationDesktop = cheeseInfoCardDesktop.querySelector('.cheese-info-maturation');
        const cheeseInfoFat = cheeseInfoCard.querySelector('.cheese-info-fat');
        const cheeseInfoFatDesktop = cheeseInfoCardDesktop.querySelector('.cheese-info-fat');
        const headerBackArrow = document.querySelector('.header-back-arrow');
        const selectedCheeseText = document.querySelector('.selected-cheese-text');
        const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');
        const selectedCheeseName = selectedCheeseText.querySelector('.selected-cheese-name');
        const selectedCheeseNameDesktop = selectedCheeseTextDesktop.querySelector('.selected-cheese-name');
        const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
        const gridImages = cheeseImagesGrid.querySelectorAll('.cheese-grid-image');
        
        // Устанавливаем атрибут data-cheese для сетки изображений
        cheeseImagesGrid.setAttribute('data-cheese', cheeseType);
        
        // Устанавливаем соответствующее изображение и информацию
        switch(cheeseType) {
            case 'petite':
                selectedCheeseImage.src = 'images/petite.webp';
                cheeseInfoName.textContent = 'Président Бри';
                cheeseInfoNameDesktop.textContent = 'Président Бри';
                selectedCheeseName.textContent = 'Бри';
                selectedCheeseNameDesktop.textContent = 'Бри';
                cheeseInfoMaturation.innerHTML = 'Срок созревания: <span>8 дней</span>';
                cheeseInfoMaturationDesktop.innerHTML = 'Срок созревания: <span>8 дней</span>';
                cheeseInfoFat.innerHTML = 'Жирность: <span>60%</span>';
                cheeseInfoFatDesktop.innerHTML = 'Жирность: <span>60%</span>';
                gridImages.forEach((img, index) => {
                    img.src = `images/b_${String(index + 1).padStart(2, '0')}.webp`;
                });
                break;
            case 'camamber':
                selectedCheeseImage.src = 'images/camamber-box-shadow.webp';
                cheeseInfoName.textContent = 'Président Камамбер';
                cheeseInfoNameDesktop.textContent = 'Président Камамбер';
                selectedCheeseName.textContent = 'Камамбер';
                selectedCheeseNameDesktop.textContent = 'Камамбер';
                cheeseInfoMaturation.innerHTML = 'Срок созревания: <span>8 дней</span>';
                cheeseInfoMaturationDesktop.innerHTML = 'Срок созревания: <span>8 дней</span>';
                cheeseInfoFat.innerHTML = 'Жирность: <span>45%</span>';
                cheeseInfoFatDesktop.innerHTML = 'Жирность: <span>45%</span>';
                gridImages.forEach((img, index) => {
                    img.src = `images/c_${String(index + 1).padStart(2, '0')}.webp`;
                });
                break;
            case 'blue':
                selectedCheeseImage.src = 'images/bleu-shadow.webp';
                cheeseInfoName.textContent = 'Président Royal Bleu';
                cheeseInfoNameDesktop.textContent = 'Président Royal Bleu';
                selectedCheeseName.textContent = 'Bleu';
                selectedCheeseNameDesktop.textContent = 'Bleu';
                cheeseInfoMaturation.innerHTML = 'Срок созревания: <span>80 дней</span>';
                cheeseInfoMaturationDesktop.innerHTML = 'Срок созревания: <span>80 дней</span>';
                cheeseInfoFat.innerHTML = 'Жирность: <span>55%</span>';
                cheeseInfoFatDesktop.innerHTML = 'Жирность: <span>55%</span>';
                gridImages.forEach((img, index) => {
                    img.src = `images/blue_${String(index + 1).padStart(2, '0')}.webp`;
                });
                break;
            case 'fondant':
                selectedCheeseImage.src = 'images/fondant-shadow.webp';
                cheeseInfoName.textContent = 'LE CREMIOT ';
                cheeseInfoName.innerHTML += '<span style="font-size: 0.65em;">EXTRA FONDANT</span>';
                cheeseInfoNameDesktop.textContent = 'LE CREMIOT ';
                cheeseInfoNameDesktop.innerHTML += '<span style="font-size: 0.65em;">EXTRA FONDANT</span>';
                selectedCheeseName.textContent = 'LE CREMIOT ';
                selectedCheeseName.innerHTML += '<span style="font-size: 1em;">EXTRA FONDANT</span>';
                selectedCheeseNameDesktop.textContent = 'LE CREMIOT ';
                selectedCheeseNameDesktop.innerHTML += '<span style="font-size: 0.65em;">EXTRA FONDANT</span>';
                cheeseInfoMaturation.innerHTML = 'Срок созревания: <span>12 дней</span>';
                cheeseInfoMaturationDesktop.innerHTML = 'Срок созревания: <span>12 дней</span>';
                cheeseInfoFat.innerHTML = 'Жирность: <span>60%</span>';
                cheeseInfoFatDesktop.innerHTML = 'Жирность: <span>60%</span>';
                gridImages.forEach((img, index) => {
                    img.src = `images/f_${String(index + 1).padStart(2, '0')}.webp`;
                });
                break;
        }
        
        selectedCheese.classList.add('active');
        selectedCheese.setAttribute('data-cheese', cheeseType);
        cheeseInfoCard.classList.add('active');
        cheeseInfoCardDesktop.classList.add('active');
        selectedCheeseText.classList.add('active');
        selectedCheeseTextDesktop.classList.add('active');
        cheeseImagesGrid.classList.add('active');
        headerBackArrow.classList.add('active');
        document.querySelector('.knife-image').classList.add('active');
        document.querySelector('.paw-image').classList.add('active');
        const desktopBackArrow = document.querySelector('.desktop-back-arrow');
        if (window.innerWidth > 768) {
            desktopBackArrow.classList.add('active');
        }
    }, 1000);
}

// Добавляем обработчики событий для кнопок навигации
if (prevButton && nextButton) {
    prevButton.addEventListener('click', prevSlide);
    nextButton.addEventListener('click', nextSlide);
}

// Добавляем обработчики для кнопок выбора сыра в слайдере
const slideButtons = document.querySelectorAll('.slide-button');
slideButtons.forEach(button => {
    button.addEventListener('click', () => {
        const cheeseType = button.getAttribute('data-cheese');
        hideSliderAndText(cheeseType);
        const knifeImage = document.querySelector('.knife-image');
        const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
        if (cheeseImagesGrid) {
            cheeseImagesGrid.classList.remove('cutting');
        }
        
        knifeImage.dataset.moved = 'false';
        // Сбрасываем позицию ножа
        if (window.innerWidth <= 768) {
            knifeImage.style.right = '3%';
            knifeImage.style.top = '70%';
            knifeImage.style.transform = 'translateY(-50%) rotate(3deg)';
        } else {
            knifeImage.style.right = '5%';
            knifeImage.style.top = '50%';
            knifeImage.style.transform = 'translateY(-50%) rotate(30deg)';
        }
    });
});

// Показываем слайдер при клике на кнопку "discover"
discoverButton.addEventListener('click', () => {
    if (window.innerWidth <= 768) {
        setTimeout(() => {
            mobileSlider.classList.add('active');
            mobileSlider.style.opacity = '1';
        }, 1000);
    }
});

// Скрываем слайдер при открытии бургер-меню
burgerMenu.addEventListener('click', () => {
    if (burgerMenu.classList.contains('active')) {
        mobileSlider.classList.remove('active');
        mobileSlider.style.opacity = '0';
    }
});

// Добавляем обработчик для стрелки назад
const headerBackArrow = document.querySelector('.header-back-arrow');
headerBackArrow.addEventListener('click', () => {
    // Скрываем карточку с информацией
    const cheeseInfoCard = document.querySelector('.cheese-info-card');
    const cheeseInfoCardDesktop = document.querySelector('.cheese-info-card-desktop');
    cheeseInfoCard.classList.remove('active');
    cheeseInfoCardDesktop.classList.remove('active');
    
    // Скрываем выбранный сыр
    const selectedCheese = document.querySelector('.selected-cheese');
    selectedCheese.classList.remove('active');
    
    // Скрываем текст о выбранном сыре
    const selectedCheeseText = document.querySelector('.selected-cheese-text');
    const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');
    selectedCheeseText.classList.remove('active');
    selectedCheeseTextDesktop.classList.remove('active');
    selectedCheeseTextDesktop.style.opacity = '0';
    selectedCheeseTextDesktop.style.transform = '';
    
    // Скрываем сетку изображений и возвращаем изображения на место
    const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
    cheeseImagesGrid.classList.remove('active');
    cheeseImagesGrid.classList.remove('cutting');
    cheeseImagesGrid.style.left = '';
    cheeseImagesGrid.style.top = '';
    
    // Скрываем все блоки с кнопками
    const buttonsGrids = document.querySelectorAll('.cheese-buttons-grid');
    buttonsGrids.forEach(grid => {
        grid.classList.remove('cutting');
        grid.style.left = '';
        grid.style.top = '';
        grid.style.width = '';
        grid.style.height = '';
    });
    
    // Скрываем нож и лапу
    const knifeImage = document.querySelector('.knife-image');
    knifeImage.dataset.moved = 'false';
    const pawImage = document.querySelector('.paw-image');
    knifeImage.classList.remove('active');
    pawImage.classList.remove('active');
    
    // Сбрасываем позицию ножа
    if (window.innerWidth <= 768) {
        knifeImage.style.right = '3%';
        knifeImage.style.top = '70%';
        knifeImage.style.transform = 'translateY(-50%) rotate(3deg)';
    } else {
        knifeImage.style.right = '5%';
        knifeImage.style.top = '50%';
        knifeImage.style.transform = 'translateY(-50%) rotate(30deg)';
    }
    
    // Скрываем стрелку
    headerBackArrow.classList.remove('active');
    
    // Показываем слайдер и текст для мобильной версии
    if (window.innerWidth <= 768) {
        const mobileSlider = document.querySelector('.mobile-slider');
        const cheeseTextContainer = document.querySelector('.cheese-text-container');
        
        mobileSlider.classList.add('active');
        mobileSlider.style.opacity = '1';
        cheeseTextContainer.classList.add('active');
        cheeseTextContainer.style.opacity = '1';
    } else {
        // Показываем контейнер с выбором сыра и текст для десктопной версии
        const chooseCheeseContainer = document.querySelector('.choose-cheese-container');
        const cheeseTextContainer = document.querySelector('.cheese-text-container');
        
        // Показываем изображения сыров
        const cheeseImages = document.querySelectorAll('.cheese-image');
        cheeseImages.forEach(image => {
            image.classList.add('active');
            if(window.innerWidth <= 1050) {
                if (image.classList.contains('petite')) {
                    image.style.animation = 'showPetiteTablet 1s ease-out forwards';
                } else if (image.classList.contains('camamber-box')) {
                    image.style.animation = 'showCamamberBoxTablet 1s ease-out forwards';
                } else if (image.classList.contains('blue')) {
                    image.style.animation = 'showBlueTablet 1.5s ease-out forwards';
                } else if (image.classList.contains('fondant')) {
                    image.style.animation = 'showFondantTablet 1s ease-out forwards';
                }
            } else if (window.innerWidth > 1050) {
                if (image.classList.contains('petite')) {
                    image.style.animation = 'showPetite 1s ease-out forwards';
                } else if (image.classList.contains('camamber-box')) {
                    image.style.animation = 'showCamamberBox 1s ease-out forwards';
                } else if (image.classList.contains('blue')) {
                    image.style.animation = 'showBlue 1.5s ease-out forwards';
                } else if (image.classList.contains('fondant')) {
                    image.style.animation = 'showFondant 1s ease-out forwards';
                }
            }
        });

        chooseCheeseContainer.classList.add('active');
        cheeseTextContainer.classList.add('active');
        cheeseTextContainer.style.opacity = '1';
    }
});

function showSliderAndText() {
    cheeseImagesGrid.classList.remove('active');
    document.querySelector('.knife-image').classList.remove('active');
    document.querySelector('.paw-image').classList.remove('active');
}

// Добавляем обработчик жестов для ножа
let touchStartX = 0;
let touchEndX = 0;
const knifeImage = document.querySelector('.knife-image');
const rightHalf = window.innerWidth / 2;

document.addEventListener('touchstart', (e) => {
    touchStartX = e.touches[0].clientX;
});

document.addEventListener('touchmove', (e) => {
    touchEndX = e.touches[0].clientX;
    
    // Проверяем, что мы находимся на экране нарезки сыра
    const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
    if (!cheeseImagesGrid || !cheeseImagesGrid.classList.contains('active')) {
        return;
    }
    
    // Проверяем, что нож еще не был перемещен
    if (knifeImage.dataset.moved === 'true') {
        return;
    }
    
    // Проверяем, что свайп начался в правой половине экрана
    if (touchStartX > rightHalf) {
        const swipeDistance = touchEndX - touchStartX;
        const swipePercentage = (swipeDistance / rightHalf) * 100;
        
        // Если свайп влево на 10% или больше
        if (swipePercentage <= -10) {
            if(window.innerWidth > 768) {
                knifeImage.style.right = '45%';
                knifeImage.style.top = '65%';
                knifeImage.style.transform = 'translateY(-50%) rotate(-40deg)';
            } else {
                knifeImage.style.right = '45%';
                knifeImage.style.top = '65%';
                knifeImage.style.transform = 'translateY(-50%) rotate(-40deg)';
            }
            knifeImage.style.transition = 'right 0.3s ease, top 0.3s ease, transform 0.3s ease';
            // Добавляем флаг, что нож был перемещен
            knifeImage.dataset.moved = 'true';
            
            // Скрываем лапку и текст
            const pawImage = document.querySelector('.paw-image');
            const selectedCheeseText = document.querySelector('.selected-cheese-text');
            const cheeseInfoCard = document.querySelector('.cheese-info-card');
            const selectedCheese = document.querySelector('.selected-cheese');
            const cheeseInfoCardDesktop = document.querySelector('.cheese-info-card-desktop');
            const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');

            pawImage.classList.remove('active');
            selectedCheeseText.classList.remove('active');
            cheeseInfoCard.classList.remove('active');
            selectedCheese.classList.remove('active');
            cheeseInfoCardDesktop.classList.remove('active');
            selectedCheeseTextDesktop.classList.remove('active');

            // Показываем соответствующий блок с кнопками
            const cheeseType = cheeseImagesGrid.getAttribute('data-cheese');
            const buttonsGrid = document.querySelector(`.cheese-buttons-grid[data-cheese="${cheeseType}"]`);
            if (buttonsGrid) {
                // Копируем стили позиционирования с cheeseImagesGrid
                const gridStyles = window.getComputedStyle(cheeseImagesGrid);
                buttonsGrid.classList.add('cutting');
            }
        }
    }
});

document.addEventListener('touchend', () => {
    // Проверяем, был ли нож перемещен
    if (knifeImage.dataset.moved === 'true') {
        if (knifeImage.classList.contains('active')) {
            setTimeout(() => {
                knifeImage.style.right = '-100%';
                knifeImage.style.top = '150%';
                knifeImage.style.transform = 'translateY(-50%) rotate(-40deg)';
                // Добавляем класс cutting для анимации изображений
                const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
            
                if (cheeseImagesGrid) {
                    cheeseImagesGrid.classList.add('cutting');
                }
            }, 1000);
        }
        // Сбрасываем флаг
        // knifeImage.dataset.moved = 'false';
    }
});

// Добавляем обработчик для кнопок выбора сыра в десктопной версии
const cheeseChoiceButtons = document.querySelectorAll('.cheese-choice-button');
cheeseChoiceButtons.forEach(button => {
    button.addEventListener('click', () => {
        // Скрываем кнопки выбора сыра
        const chooseCheeseContainer = document.querySelector('.choose-cheese-container');
        chooseCheeseContainer.classList.remove('active');
        
        // Скрываем изображения сыров с анимацией
        const cheeseImages = document.querySelectorAll('.cheese-image');
        cheeseImages.forEach(image => {
            if (window.innerWidth <= 1050) {}
            if (image.classList.contains('petite')) {
                image.style.animation = 'hidePetite 1s ease-out forwards';
            } else if (image.classList.contains('camamber-box')) {
                image.style.animation = 'hideCamamberBox 1s ease-out forwards';
            } else if (image.classList.contains('blue')) {
                image.style.animation = 'hideBlue 1s ease-out forwards';
            } else if (image.classList.contains('fondant')) {
                image.style.animation = 'hideFondant 1s ease-out forwards';
            }
        });
        
        // Скрываем текстовый блок
        const cheeseTextContainer = document.querySelector('.cheese-text-container');
        cheeseTextContainer.classList.remove('active');
        cheeseTextContainer.style.opacity = '0';
        
        // Определяем тип выбранного сыра
        const cheeseType = button.textContent.trim().toLowerCase().includes('бри') ? 'petite' :
                            button.textContent.trim().toLowerCase().includes('камамбер') ? 'camamber' :
                            button.textContent.trim().toLowerCase().includes('bleu') ? 'blue' :
                            'fondant';
        
        // Показываем выбранный сыр и информацию
        setTimeout(() => {
            const selectedCheese = document.querySelector('.selected-cheese');
            const selectedCheeseImage = selectedCheese.querySelector('.selected-cheese-image');
            const cheeseInfoCard = document.querySelector('.cheese-info-card');
            const cheeseInfoCardDesktop = document.querySelector('.cheese-info-card-desktop');
            const cheeseInfoName = cheeseInfoCard.querySelector('.cheese-info-name');
            const cheeseInfoNameDesktop = cheeseInfoCardDesktop.querySelector('.cheese-info-name');
            const cheeseInfoMaturation = cheeseInfoCard.querySelector('.cheese-info-maturation');
            const cheeseInfoMaturationDesktop = cheeseInfoCardDesktop.querySelector('.cheese-info-maturation');
            const cheeseInfoFat = cheeseInfoCard.querySelector('.cheese-info-fat');
            const cheeseInfoFatDesktop = cheeseInfoCardDesktop.querySelector('.cheese-info-fat');
            const headerBackArrow = document.querySelector('.header-back-arrow');
            const selectedCheeseText = document.querySelector('.selected-cheese-text');
            const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');
            const selectedCheeseName = selectedCheeseText.querySelector('.selected-cheese-name');
            const selectedCheeseNameDesktop = selectedCheeseTextDesktop.querySelector('.selected-cheese-name');
            const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
            const gridImages = cheeseImagesGrid.querySelectorAll('.cheese-grid-image');
            const desktopBackArrow = document.querySelector('.desktop-back-arrow');
            
            // Устанавливаем атрибут data-cheese для сетки изображений
            cheeseImagesGrid.setAttribute('data-cheese', cheeseType);
            
            // Устанавливаем соответствующее изображение и информацию
            switch(cheeseType) {
                case 'petite':
                    selectedCheeseImage.src = 'images/petite.webp';
                    cheeseInfoName.textContent = 'Président Бри';
                    cheeseInfoNameDesktop.textContent = 'Président Бри';
                    selectedCheeseName.textContent = 'Président Бри';
                    selectedCheeseNameDesktop.textContent = 'Président Бри';
                    cheeseInfoMaturation.innerHTML = 'Срок созревания: <span>8 дней</span>';
                    cheeseInfoMaturationDesktop.innerHTML = 'Срок созревания: <span>8 дней</span>';
                    cheeseInfoFat.innerHTML = 'Жирность: <span>60%</span>';
                    cheeseInfoFatDesktop.innerHTML = 'Жирность: <span>60%</span>';
                    gridImages.forEach((img, index) => {
                        img.src = `images/b_${String(index + 1).padStart(2, '0')}.webp`;
                    });
                    break;
                case 'camamber':
                    selectedCheeseImage.src = 'images/camamber-box-shadow.webp';
                    cheeseInfoName.textContent = 'Président Камамбер';
                    cheeseInfoNameDesktop.textContent = 'Président Камамбер';
                    selectedCheeseName.textContent = 'Président Камамбер';
                    selectedCheeseNameDesktop.textContent = 'Président Камамбер';
                    cheeseInfoMaturation.innerHTML = 'Срок созревания: <span>8 дней</span>';
                    cheeseInfoMaturationDesktop.innerHTML = 'Срок созревания: <span>8 дней</span>';
                    cheeseInfoFat.innerHTML = 'Жирность: <span>45%</span>';
                    cheeseInfoFatDesktop.innerHTML = 'Жирность: <span>45%</span>';
                    gridImages.forEach((img, index) => {
                        img.src = `images/c_${String(index + 1).padStart(2, '0')}.webp`;
                    });
                    break;
                case 'blue':
                    selectedCheeseImage.src = 'images/bleu-shadow.webp';
                    cheeseInfoName.textContent = 'Président Royal Bleu';
                    cheeseInfoNameDesktop.textContent = 'Président Royal Bleu';
                    selectedCheeseName.textContent = 'Président Royal Bleu';
                    selectedCheeseNameDesktop.textContent = 'Président Royal Bleu';
                    cheeseInfoMaturation.innerHTML = 'Срок созревания: <span>80 дней</span>';
                    cheeseInfoMaturationDesktop.innerHTML = 'Срок созревания: <span>80 дней</span>';
                    cheeseInfoFat.innerHTML = 'Жирность: <span>55%</span>';
                    cheeseInfoFatDesktop.innerHTML = 'Жирность: <span>55%</span>';
                    gridImages.forEach((img, index) => {
                        img.src = `images/blue_${String(index + 1).padStart(2, '0')}.webp`;
                    });
                    break;
                case 'fondant':
                    if (window.innerWidth > 768) {
                        selectedCheeseImage.src = 'images/fondant-shadow.webp';
                    } else {
                        selectedCheeseImage.src = 'images/fondant.webp';
                    }
                    cheeseInfoName.textContent = 'LE CREMIOT ';
                    cheeseInfoName.innerHTML += '<span style="font-size: 0.65em;">EXTRA FONDANT</span>';
                    cheeseInfoNameDesktop.textContent = 'LE CREMIOT ';
                    cheeseInfoNameDesktop.innerHTML += '<span style="font-size: 0.65em;">EXTRA FONDANT</span>';
                    selectedCheeseName.textContent = 'LE CREMIOT ';
                    selectedCheeseName.innerHTML += '<span style="font-size: 0.65em;">EXTRA FONDANT</span>';
                    selectedCheeseNameDesktop.textContent = 'LE CREMIOT ';
                    selectedCheeseNameDesktop.innerHTML += '<span style="font-size: 0.65em;">EXTRA FONDANT</span>';
                    cheeseInfoMaturation.innerHTML = 'Срок созревания: <span>12 дней</span>';
                    cheeseInfoMaturationDesktop.innerHTML = 'Срок созревания: <span>12 дней</span>';
                    cheeseInfoFat.innerHTML = 'Жирность: <span>60%</span>';
                    cheeseInfoFatDesktop.innerHTML = 'Жирность: <span>60%</span>';
                    gridImages.forEach((img, index) => {
                        img.src = `images/f_${String(index + 1).padStart(2, '0')}.webp`;
                    });
                    break;
            }
            
            selectedCheese.classList.add('active');
            selectedCheese.setAttribute('data-cheese', cheeseType);
            cheeseInfoCard.classList.add('active');
            cheeseInfoCardDesktop.classList.add('active');
            selectedCheeseText.classList.add('active');
            selectedCheeseTextDesktop.classList.add('active');
            cheeseImagesGrid.classList.add('active');
            headerBackArrow.classList.add('active');
            document.querySelector('.knife-image').classList.add('active');
            document.querySelector('.paw-image').classList.add('active');
            
            // Активируем десктопную стрелку
            if (window.innerWidth > 768) {
                desktopBackArrow.classList.add('active');
                // показываем лапу и текст
                const pawImage = document.querySelector('.paw-image');
                const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');
                if (pawImage) {
                    pawImage.style.transition = 'opacity 0.5s ease-out';
                    pawImage.style.opacity = '1';
                }
                if (selectedCheeseTextDesktop) {
                    selectedCheeseTextDesktop.style.transition = 'opacity 0.5s ease-out';
                    selectedCheeseTextDesktop.style.opacity = '1';
                }
            }
        }, 1000);
    });
});

document.addEventListener('DOMContentLoaded', function() {
    const knifeImage = document.querySelector('.knife-image');
    let isDragging = false;
    let isFixed = false;
    let startX;
    let startRight;
    let startTop;

    const windowWidth = window.innerWidth;
    const windowHeight = window.innerHeight;

    const maxRightPx = windowWidth * 0.4;  // 40% - первая фиксация
    const animRightPx = windowWidth * 0.1; // 10% - максимальное смещение при втором перетаскивании
    const animStartThresholdPx = windowWidth * 0.04; // 4% - минимальное смещение для запуска анимации

    knifeImage.setAttribute('draggable', 'false');
    knifeImage.ondragstart = () => false;
    knifeImage.addEventListener('dragstart', e => e.preventDefault());

    if (windowWidth > 768) {
        knifeImage.addEventListener('mousedown', function(e) {
            if (!knifeImage.classList.contains('active')) return;

            isDragging = true;
            startX = e.clientX;
            startRight = parseFloat(window.getComputedStyle(knifeImage).right);
            startTop = parseFloat(window.getComputedStyle(knifeImage).top);

            e.preventDefault();
        });

        document.addEventListener('mousemove', function(e) {
            if (!isDragging) return;

            const deltaX = startX - e.clientX;

            if (!isFixed) {
                // Скрываем лапу и текст
                const pawImage = document.querySelector('.paw-image');
                const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');
                if (pawImage) {
                    pawImage.style.transition = 'opacity 0.5s ease-out';
                    pawImage.style.opacity = '0';
                }
                if (selectedCheeseTextDesktop) {
                    selectedCheeseTextDesktop.style.transition = 'opacity 0.5s ease-out';
                    selectedCheeseTextDesktop.style.opacity = '0';
                }
                // Первое перетаскивание вправо, фиксируем на 40%
                let newRight = startRight + deltaX;
                if (newRight > maxRightPx) {
                    newRight = maxRightPx;
                    isFixed = true;
                    isDragging = false;
                    knifeImage.style.right = newRight + 'px';
                    knifeImage.style.top = startTop + 'px';
                    return;
                }
                if (newRight < 0) newRight = 0;

                knifeImage.style.right = newRight + 'px';
                knifeImage.style.top = startTop + 'px';
            } else {
                // Второе перетаскивание - сдвигаем нож влево, максимум до 10%
                let newRight = startRight + deltaX;
                if (newRight < animRightPx) newRight = animRightPx;  // нельзя сдвинуть левее 10%
                if (newRight > maxRightPx) newRight = maxRightPx;    // нельзя сдвинуть правее 40%

                // По вертикали двигаем по диагонали вниз
                let deltaFromMax = maxRightPx - newRight;
                let newTop = startTop + deltaFromMax * 1.5;

                knifeImage.style.right = newRight + 'px';
                knifeImage.style.top = newTop + 'px';
            }
        });

        document.addEventListener('mouseup', function() {
            if (!isDragging) return;
            isDragging = false;

            if (!isFixed) {
                // Если не зафиксирован, возвращаем назад на 11%
                knifeImage.style.transition = 'right 0.3s ease-out, top 0.3s ease-out';
                knifeImage.style.right = '5%';
                knifeImage.style.top = startTop + 'px';
                setTimeout(() => {
                    knifeImage.style.transition = '';
                }, 300);

                const pawImage = document.querySelector('.paw-image');
                const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');

                if (pawImage) {
                    pawImage.style.transition = 'opacity 0.5s ease-out';
                    pawImage.style.opacity = '1';
                }
                if (selectedCheeseTextDesktop) {
                    selectedCheeseTextDesktop.style.transition = 'opacity 0.5s ease-out';
                    selectedCheeseTextDesktop.style.opacity = '1';
                }
            } else {
                // Второе отпущение после фиксации
                let currentRight = parseFloat(window.getComputedStyle(knifeImage).right);

                if (currentRight > animRightPx) {
                    // Если нож сдвинут меньше чем на 10%, но больше 4% - считаем анимацию завершённой
                    if (currentRight <= maxRightPx && currentRight >= animStartThresholdPx) {
                        startCuttingAnimation();
                    } else {
                        // Если нож сдвинут слишком мало (меньше 4%) - докатать до 10%
                        autoMoveTo(animRightPx, startTop, () => {
                            startCuttingAnimation();
                        });
                    }
                } else {
                    // Если уже меньше или равен 10% - запускаем анимацию
                    startCuttingAnimation();
                }
            }
        });

        function autoMoveTo(targetRightPx, startTop, callback) {
            knifeImage.style.transition = 'right 0.3s ease-out, top 0.3s ease-out';

            // Двигаем нож к targetRightPx по горизонтали и по диагонали вниз
            knifeImage.style.right = targetRightPx + 'px';
            let deltaFromMax = maxRightPx - targetRightPx;
            let targetTop = startTop + deltaFromMax * 1.5;
            knifeImage.style.top = targetTop + 'px';

            setTimeout(() => {
                knifeImage.style.transition = '';
                if (callback) callback();
            }, 300);
        }

        function startCuttingAnimation() {
            const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
            if (cheeseImagesGrid && !cheeseImagesGrid.classList.contains('cutting')) {
                cheeseImagesGrid.classList.add('cutting');
                
                // Добавляем изменение позиции для определенных типов сыров
                const cheeseType = cheeseImagesGrid.getAttribute('data-cheese');
                if (cheeseType === 'petite' || cheeseType === 'camamber') {
                    cheeseImagesGrid.style.transition = 'left 0.5s ease-out, top 0.5s ease-out';
                    cheeseImagesGrid.style.left = '40%';
                    cheeseImagesGrid.style.top = '21%';
                }

                // Показываем соответствующий блок с кнопками
                const buttonsGrid = document.querySelector(`.cheese-buttons-grid[data-cheese="${cheeseType}"]`);
                if (buttonsGrid) {
                    // Копируем стили позиционирования с cheeseImagesGrid
                    const gridStyles = window.getComputedStyle(cheeseImagesGrid);
                    buttonsGrid.classList.add('cutting');
                }
            }
            
            knifeImage.style.transition = 'top 0.5s ease-out, opacity 0.5s ease-out';
            knifeImage.style.top = (windowHeight + 200) + 'px';
            knifeImage.style.opacity = '0';

            setTimeout(() => {
                knifeImage.classList.remove('active');
                knifeImage.style.transition = '';
                knifeImage.style.top = startTop + 'px';
                knifeImage.style.opacity = '1';
                knifeImage.style.right = '5%';
                isFixed = false;
            }, 600);
        }
    }
});

// Добавляем обработчик для десктопной стрелки
const desktopBackArrow = document.querySelector('.desktop-back-arrow');
desktopBackArrow.addEventListener('click', () => {
    // Скрываем карточку с информацией
    const cheeseInfoCard = document.querySelector('.cheese-info-card');
    const cheeseInfoCardDesktop = document.querySelector('.cheese-info-card-desktop');
    cheeseInfoCard.classList.remove('active');
    cheeseInfoCardDesktop.classList.remove('active');
    
    // Скрываем выбранный сыр
    const selectedCheese = document.querySelector('.selected-cheese');
    selectedCheese.classList.remove('active');
    
    // Скрываем текст о выбранном сыре
    const selectedCheeseText = document.querySelector('.selected-cheese-text');
    const selectedCheeseTextDesktop = document.querySelector('.selected-cheese-text-desktop');
    selectedCheeseText.classList.remove('active');
    selectedCheeseTextDesktop.classList.remove('active');
    selectedCheeseTextDesktop.style.opacity = '0';
    selectedCheeseTextDesktop.style.transform = '';
    
    // Скрываем сетку изображений и возвращаем изображения на место
    const cheeseImagesGrid = document.querySelector('.cheese-images-grid');
    cheeseImagesGrid.classList.remove('active');
    cheeseImagesGrid.classList.remove('cutting');
    cheeseImagesGrid.style.left = '';
    cheeseImagesGrid.style.top = '';
    
    // Скрываем все блоки с кнопками
    const buttonsGrids = document.querySelectorAll('.cheese-buttons-grid');
    buttonsGrids.forEach(grid => {
        grid.classList.remove('cutting');
        grid.style.left = '';
        grid.style.top = '';
        grid.style.width = '';
        grid.style.height = '';
    });
    
    // Скрываем нож и лапу
    const knifeImage = document.querySelector('.knife-image');
    const pawImage = document.querySelector('.paw-image');
    knifeImage.classList.remove('active');
    pawImage.classList.remove('active');
    
    // Сбрасываем позицию ножа
    if (window.innerWidth <= 768) {
        knifeImage.style.right = '3%';
        knifeImage.style.top = '70%';
        knifeImage.style.transform = 'translateY(-50%) rotate(3deg)';
    } else {
        knifeImage.style.top = 65 + '%';
        knifeImage.style.opacity = '1';
        knifeImage.style.right = '5%';
        knifeImage.style.transform = 'translateY(-50%) rotate(-30deg)';
    }
    
    // Скрываем стрелку
    desktopBackArrow.classList.remove('active');
    
    // Показываем контейнер с выбором сыра и текст
    const chooseCheeseContainer = document.querySelector('.choose-cheese-container');
    const cheeseTextContainer = document.querySelector('.cheese-text-container');
    
    // Показываем изображения сыров
    const cheeseImages = document.querySelectorAll('.cheese-image');
    cheeseImages.forEach(image => {
        image.classList.add('active');
        if(window.innerWidth <= 1050) {
            if (image.classList.contains('petite')) {
                image.style.animation = 'showPetiteTablet 1s ease-out forwards';
            } else if (image.classList.contains('camamber-box')) {
                image.style.animation = 'showCamamberBoxTablet 1s ease-out forwards';
            } else if (image.classList.contains('blue')) {
                image.style.animation = 'showBlueTablet 1.5s ease-out forwards';
            } else if (image.classList.contains('fondant')) {
                image.style.animation = 'showFondantTablet 1s ease-out forwards';
            }
        } else if (window.innerWidth > 1050) {
            if (image.classList.contains('petite')) {
                image.style.animation = 'showPetite 1s ease-out forwards';
            } else if (image.classList.contains('camamber-box')) {
                image.style.animation = 'showCamamberBox 1s ease-out forwards';
            } else if (image.classList.contains('blue')) {
                image.style.animation = 'showBlue 1.5s ease-out forwards';
            } else if (image.classList.contains('fondant')) {
                image.style.animation = 'showFondant 1s ease-out forwards';
            }
        }
    });

    // Показываем контейнер с выбором сыра и текст
    chooseCheeseContainer.classList.add('active');
    cheeseTextContainer.classList.add('active');
    cheeseTextContainer.style.opacity = '1';
});

// Управление модальными окнами
const modalOverlay = document.querySelector('.modal-overlay');
const modals = document.querySelectorAll('.modal');
const modalCloseButtons = document.querySelectorAll('.modal-close');
const cheeseButtons = document.querySelectorAll('.cheese-button');

// Функция для открытия модального окна
function openModal(modalType, cheeseType, buttonText) {
    const modal = document.querySelector(`.modal-${modalType}`);
    if (!modal) return;

    const data = cheeseModalData[cheeseType];
    if (!data) return;

    // Проверяем, является ли это кнопкой "Рецепт" для сыра fondant
    if (cheeseType === 'fondant' && buttonText === 'Рецепт') {
        window.open('/files/recipe.pdf', '_blank');
        return;
    }

    function normalizeText(text) {
        return text
            .replace(/<br\s*\/?>/gi, ' ') // Заменяем <br> на пробел
            .replace(/\s+/g, ' ')         // Убираем лишние пробелы
            .trim();                      // Убираем пробелы в начале и конце
    }

    // Заполняем контент в зависимости от типа модального окна
    switch(modalType) {
        case 'images':
            // Заполняем изображения и текст для окна с 4 изображениями
            const images = modal.querySelectorAll('.modal-image');
            const textBlocks = modal.querySelectorAll('.modal-text-block');
            
            // Очищаем текст и устанавливаем атрибут data-cheese для всех изображений и текстовых блоков
            images.forEach(img => img.setAttribute('data-cheese', cheeseType));
            const textBlocksContainer = modal.querySelector('.modal-text-blocks');
            if (textBlocksContainer) {
                textBlocksContainer.setAttribute('data-cheese', cheeseType);
            }
            
            // Очищаем текст всех блоков перед заполнением
            textBlocks.forEach(block => {
                block.textContent = '';
                block.setAttribute('data-cheese', cheeseType);
            });
            
            // Заполняем изображения
            data.images.images.forEach((src, index) => {
                if (images[index]) {
                    images[index].src = `images/${src}`;
                }
            });
            
            // Заполняем текстовые блоки
            data.images.textBlocks.forEach((text, index) => {
                if (textBlocks[index]) {
                    textBlocks[index].textContent = text;
                    textBlocks[index].setAttribute('data-cheese', cheeseType);
                }
            });
            break;

        case 'characteristics':
            // Заполняем характеристики
            const topImage = modal.querySelector('.characteristics-top-image');
            if (topImage && data.characteristics.topImage) {
                topImage.src = `images/${data.characteristics.topImage}`;
                // Добавляем специфичный класс в зависимости от типа сыра
                topImage.className = `characteristics-top-image characteristics-top-image-${cheeseType}`;
            }
            const textureImages = modal.querySelector('.characteristic-block:nth-of-type(1) .characteristic-images').querySelectorAll('.char-image');
            const aromaImages = modal.querySelector('.characteristic-block:nth-of-type(2) .characteristic-images').querySelectorAll('.char-image');
            const tasteImages = modal.querySelector('.characteristic-block:nth-of-type(3) .characteristic-images').querySelectorAll('.char-image');

            
            // Заполняем изображения для текстуры
            data.characteristics.texture.images.forEach((src, index) => {
                if (textureImages[index]) {
                    textureImages[index].src = `images/${src}`;
                }
            });
            
            // Заполняем изображения для аромата
            data.characteristics.aroma.images.forEach((src, index) => {
                if (aromaImages[index]) {
                    aromaImages[index].src = `images/${src}`;
                }
            });
            
            // Заполняем изображения для вкуса
            data.characteristics.taste.images.forEach((src, index) => {
                if (tasteImages[index]) {
                    tasteImages[index].src = `images/${src}`;
                }
            });
            break;

        case 'mold':
            // Заполняем информацию о культуре плесени
            const cheeseImage = modal.querySelector('.modal-cheese-image');
            const subtitle = modal.querySelector('.modal-mold-subtitle');
            
            // Устанавливаем изображение выбранного сыра
            cheeseImage.src = document.querySelector('.selected-cheese-image').src;
            cheeseImage.setAttribute('data-cheese', cheeseType);
            
            // Устанавливаем данные о плесени
            subtitle.textContent = data.mold.subtitle;
            break;

        case 'description':
            // Заполняем описание
            const descCheeseImage = modal.querySelector('.modal-cheese-image');
            descCheeseImage.setAttribute('data-cheese', cheeseType);
            const descSubtitle = modal.querySelector('.modal-subtitle');
            const descText = modal.querySelector('.modal-text');
            
            // Устанавливаем изображение выбранного сыра
            descCheeseImage.src = document.querySelector('.selected-cheese-image').src;
            
            // Используем data-content-key для поиска описания
            const descriptionData = data.description[buttonText];
            
            if (descriptionData) {
                descSubtitle.textContent = descriptionData.title;
                descText.innerHTML = descriptionData.text;
            } else {
                console.warn(`Описание не найдено для ключа: "${buttonText}"`);
            }
            break;
    }

    // Показываем оверлей и модальное окно
    modalOverlay.classList.add('active');
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Функция для закрытия модального окна
function closeModal() {
    const activeModal = document.querySelector('.modal.active');
    if (activeModal) {
        activeModal.classList.add('closing');
        setTimeout(() => {
            modalOverlay.classList.remove('active');
            activeModal.classList.remove('active');
            activeModal.classList.remove('closing');
    document.body.style.overflow = '';
        }, 300);
    }
}

// Добавляем обработчики событий для кнопок
cheeseButtons.forEach(button => {
    button.addEventListener('click', () => {
        const modalType = button.getAttribute('data-modal-type');
        const contentKey = button.getAttribute('data-content-key');
        const cheeseType = document.querySelector('.selected-cheese').getAttribute('data-cheese');
        
        openModal(modalType, cheeseType, contentKey);
    });
});

// Добавляем обработчики событий для кнопок закрытия
modalCloseButtons.forEach(button => {
    button.addEventListener('click', closeModal);
});

// Закрытие по клику на оверлей
modalOverlay.addEventListener('click', closeModal);

// Добавляем обработчики событий для кнопок "Понятно"
const understandButtons = document.querySelectorAll('.modal-understand-button');
understandButtons.forEach(button => {
    button.addEventListener('click', closeModal);
});

const cheeseModalData = {
    petite: {
        images: {
            title: "Как отличить настоящий сыр бри?",
            images: [
                "brie-piece.webp",
                "arrow_1.svg",
                "arrow_02.webp",
                "arrow_3.svg"
            ],
            textBlocks: [
                "Сливочная сердцевина, нежный вкус",
                "Бархатистая корочка",
                "Penicillium Candidum, Geotrichum Candidum"
            ]
        },
        characteristics: {
            topImage: "brie-piece.webp",
            texture: {
                title: "Мягкость текстуры",
                description: "(в середине срока годности)",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            },
            aroma: {
                title: "Интенсивность аромата",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            },
            taste: {
                title: "Интенсивность вкуса",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            },
        },
        mold: {
            title: "Культура плесени",
            subtitle: "Penicillium Candidum и Geotrichum Candidum",
            description: "Penicillium Candidum и Geotrichum Candidum"
        },
        description: {
            "Бри – сыр королей": {
                title: "Бри – сыр королей",
                text: "Сыр бри пришёл к нам с берегов Сены и Марны — района во Франции, ранее известного как Бри. В средние века французские короли высоко оценивали сыр бри, он был неотъемлемой частью праздничного стола."
            },
            "Ассортимент": {
                title: "Ассортимент",
                text: "Наслаждайтесь вкусом настоящего Бри в различных форматах<br><br>• Petit Brie 125g<br>• Brie 200g<br>• Brie 1,2 kg"
            },
            "С чем сочетать Бри President?": {
                title: "С чем сочетать Бри President?",
                text: "Превосходно сочетается с теплым багетом, орехами, медом, фруктами. Подходит для салата и холодных закусок."
            },
            "Настоящий вкус!": {
                title: "Настоящий вкус!",
                text: "Для образования благородной белой плесени, согласно традиционной французской рецептуре, используется культура плесени Penicillium Candidum и Geotrichum Candidum."
            },
            "Как отличить настоящий сыр бри?": {
                title: "Как отличить настоящий сыр бри?",
                text: "Бри President имеет бархатистую корочку, сливочную сердцевину и нежный вкус."
            }
        }
    },
    camamber: {
        images: {
            title: "Когда появился камамбер?",
            images: [
                "camamber-piece.webp",
                "arrow_1.svg",
                "arrow_02.webp",
                "arrow_3.svg"
            ],
            textBlocks: [
                "Пикантный, немного острый вкус",
                "Очень тонкая, рифленая корочка",
                "Geothrichum Candidum"
            ]
        },
        characteristics: {
            topImage: "camamber-piece.webp",
            texture: {
                title: "Мягкость текстуры",
                description: "(в середине срока годности)",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                ]
            },
            aroma: {
                title: "Интенсивность аромата",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            },
            taste: {
                title: "Интенсивность вкуса",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            },
        },
        mold: {
            title: "Культура плесени",
            subtitle: "Geotrichum Candidum и Penicillium Candidum",
            description: "Geotrichum Candidum и Penicillium Candidum"
        },
        description: {
            "Когда появился камабер?": {
                title: "Когда появился камабер?",
                text: "Камамбер появился XVIII веке, а название сыра происходит от местности, где, по легенде, его впервые начали изготавливать: деревушки Камамбер в Нормандии, на севере Франции."
            },
            "Настоящая легенда!": {
                title: "Настоящая легенда!",
                text: "Согласно французским традициям для приготовления сыра President Камамбер используется благородная белая плесень Geothrichum Candidum. "
            },
            "Ассортимент": {
                title: "Ассортимент",
                text: "Наслаждайтесь вкусом настоящего Камамбера в различных форматах<br><br>• Классический Camembert President<br>• Camembert Grill — идеально для жарки и запекания"
            },
            "С чем сочетать Камамбер?": {
                title: "С чем сочетать Камамбер?",
                text: "Отлично сочетается с фруктами, крекерами, медом, вареньем или джемом. Можно использовать как самостоятельное блюдо, так и как ингредиент для холодной/горячей закуски или сырной тарелки."
            },
            "Отличительная особенность": {
                title: "Отличительная особенность",
                text: "Камамбер President — это сочетание ярко выраженного пикантного вкуса и тонкой корочки, которая со временем приобретает острые нотки. Нежная текстура Камамбера President по мере созревания становится более текучей, раскрывая глубокий вкус сыра."
            },
        }
    },
    blue: {
        images: {
            title: "Богатая история",
            images: [
                "blue-piece.webp",
                "arrow_1.svg",
                "arrow_02.webp",
                "arrow_3.svg"
            ],
            textBlocks: [
                "Срок созревания 80 дней",
                "Запатентованный сорт плесени P. Roqueforti",
                "Имеет красивый мраморный рисунок"
            ]
        },
        characteristics: {
            topImage: "blue-piece.webp",
            texture: {
                title: "Мягкость текстуры",
                description: "(в середине срока годности)",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                ]
            },
            aroma: {
                title: "Интенсивность аромата",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            },
            taste: {
                title: "Интенсивность вкуса",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            }
        },
        mold: {
            title: "Культура плесени",
            subtitle: "Penicillium Roqueforti",
            description: "Penicillium Roqueforti"
        },
        description: {
            "Богатая история": {
                title: "Богатая история",
                text: "Сыры с голубой плесенью уже много веков пользуются огромной популярностью среди королевских домов и знати. Они восхищались его изысканным вкусом и неповторимым ароматом."
            },
            "Настоящий вкус!": {
                title: "Настоящий вкус!",
                text: "Для изготовления Royal Bleu President применяется запатентованный сорт благородной плесени Penicillium Roqueforti, специфичный только для линейки данного вида продукта."
            },
            "С чем сочетать?": {
                title: "С чем сочетать?",
                text: "Royal Bleu President отлично сочетается с разнообразными сортами хлеба, фруктами и орехами. Он также станет незаменимым ингредиентом ваших кулинарных шедевров, подняв их на вершину вкуса и изысканности."
            },
            "Цвет настоящей благородной плесени": {
                title: "Цвет настоящей благородной плесени",
                text: "Поверхность сыра не обрабатывается антибиотиками, сыр является по-настоящему натуральным продуктом, поэтому цвет плесени может варьироваться от темно зеленого до темно коричневого."
            },
            "Мраморный рисунок": {
                title: "Мраморный рисунок",
                text: "Благодаря длинному сроку созревания (80 дней) ​Royal Bleu имеет красивый мраморный рисунок на срезе сыра, пряно-пикантный яркий вкус и одновременно нежную текстуру."
            },
        }
    },
    fondant: {
        images: {
            title: "Текстура",
            images: [
                "fondant-piece.webp",
                "arrow_1.svg",
                "arrow_02.webp",
                "arrow_3.svg"
            ],
            textBlocks: [
                "Тающая, нежная текстура",
                "Тонкая корочка",
            ]
        },
        characteristics: {
            topImage: "fondant-piece.webp",
            texture: {
                title: "Мягкость текстуры",
                description: "(в середине срока годности)",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                ]
            },
            aroma: {
                title: "Интенсивность аромата",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            },
            taste: {
                title: "Интенсивность вкуса",
                images: [
                    "polygon_f.webp",
                    "polygon_f.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                    "polygon_e.webp",
                ]
            }
        },
        mold: {
            title: "Культура плесени",
            subtitle: "Geotrichum Candidum и Penicillium Candidum",
            description: "Geotrichum Candidum и Penicillium Candidum"
        },
        description: {
            "Текстура": {
                title: "Текстура",
                text: "На протяжении всего срока годности текстура сыра меняется: примерно с 15-го дня сыр начинает обладать уникальным вкусом Бри и нежной текстурой Камамбера."
            },
            "Настоящее удовольствие": {
                title: "Настоящее удовольствие",
                text: "Сыр PRESIDENT Le Crémiot Extra Fondant President — это уникальная инновация для настоящих гурманов и ценителей французского сыра."
            },
            "С чем сочетать?": {
                title: "С чем сочетать?",
                text: "Le Crémiot Extra Fondant President идеально подойдет для всех типов закусок, салатов и даже горячих блюд. Сыр придаст сливочности, тягучей нежности, наполнит блюдо неповторимым ароматом и вкусом."
            },
            "Что такое Extra Fondant?": {
                title: "Что такое Extra Fondant?",
                text: "Extra Fondant – специальная технология производства, благодаря которой данный сыр приобретает кремовую, нежную текстуру камамбера, которая буквально тает во рту, но при этом его аромат и вкус ближе к бри. "
            },
            "Рецепт": {
                title: "Рецепт",
                text: ""
            },
        }
    }
};

// Добавляем обработчик закрытия модального окна
document.addEventListener('DOMContentLoaded', function() {
    const authModal = document.querySelector('.auth-modal');
    const header = document.querySelector('.header');
    
    // Находим все элементы, которые могут закрыть модальное окно
    const closeButtons = document.querySelectorAll('.auth-modal-close, .auth-modal');
    
    closeButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            if (e.target === button) {
                header.classList.remove('profile-active');
            }
        });
    });
});

// Добавляем обработчик для кнопки закрытия
const authModalClose = document.querySelector('.auth-modal-close');
authModalClose.addEventListener('click', closeAuthModal);

// Добавляем обработчики для кнопок в мобильном меню
const mobileMenuButtons = document.querySelectorAll('.mobile-menu .nav-button, .mobile-menu .quiz-button, .mobile-menu .enter-button');
mobileMenuButtons.forEach(button => {
    button.addEventListener('click', () => {
        // Закрываем бургер-меню
        burgerMenu.classList.remove('active');
        document.querySelector('.content-wrapper').classList.remove('menu-active');
        mobileMenu.classList.remove('active');
        
        // Показываем карточки
        showProducts();
        showCards();
        if (slateMobile) {
            applyAnimation(slateMobile, 'showSlateMobile');
        }
    });
});

function showQuizSuccessScreen() {
    const quizContent = document.querySelector('.quiz-modal-content');
    
    quizContent.innerHTML = ''; // очищаем старое содержимое

    const successContent = document.createElement('div');
    successContent.className = 'success-content active';
    successContent.innerHTML = `
        <img src="images/close.webp" alt="Close" class="quiz-modal-close">
        <img src="images/sticker.webp" alt="Sticker" class="success-sticker">
        <h2 class="success-title-quiz">Спасибо за участие! 🎉</h2>
        <button class="success-button"><span>Закрыть</span></button>
    `;
    
    quizContent.appendChild(successContent);

    // Добавляем обработчики для обеих кнопок закрытия
    const closeButton = successContent.querySelector('.success-button');
    const closeIcon = successContent.querySelector('.quiz-modal-close');
    
    if (closeButton) {
        closeButton.addEventListener('click', closeQuizModal);
    }
    
    if (closeIcon) {
        closeIcon.addEventListener('click', closeQuizModal);
    }
}

// Модальное окно приглашения к квизу
const quizInviteModal = document.querySelector('.quiz-invite-modal');
const quizInviteButton = document.querySelector('.quiz-invite-button');
const quizInviteClose = document.querySelector('.quiz-invite-modal-close');

function openQuizInviteModal() {
    quizInviteModal.classList.add('active');
    document.body.style.overflow = 'hidden';
}
function closeQuizInviteModal() {
    quizInviteModal.classList.remove('active');
    document.body.style.overflow = '';
}

setTimeout(openQuizInviteModal, 10000);

quizInviteButton.addEventListener('click', function() {
    closeQuizInviteModal();
    openQuizModal();
});
quizInviteClose.addEventListener('click', closeQuizInviteModal);
quizInviteModal.addEventListener('click', function(e) {
    if (e.target === quizInviteModal) closeQuizInviteModal();
});

</script>
<script src="js/cheese-slider.js"></script>
</body>
</html>
