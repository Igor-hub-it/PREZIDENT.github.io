<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="fonts/fonts.css">
    <link rel="stylesheet" href="styles/auth.css">
    <link rel="stylesheet" href="styles/quiz.css">
    <link rel="stylesheet" href="styles/faq.css">
    <link rel="stylesheet" href="styles/cheese.css">
    <link rel="stylesheet" href="styles/overlay.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/mobile-menu.css">
    <link rel="stylesheet" href="styles/words.css">
    <link rel="stylesheet" href="styles/placeholder.css">
    <link rel="stylesheet" href="styles/products.css">
    <link rel="stylesheet" href="styles/choose-cheese.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Circe Rounded', Arial, sans-serif;
        }
    </style>
</head>
<body>
    <div class="background"></div>
    <div class="placeholder-container">
        <div class="placeholder"></div>
        <div class="placeholder-shadow"></div>
    </div>

    <div class="word-drum word-drum-1">
        <div class="word word-1">Настоящее</div>
        <div class="word word-2">Настоящая</div>
        <div class="word word-3">Настоящий</div>
    </div>

    <div class="word-drum word-drum-2">
        <div class="word word-4">удовольствие</div>
        <div class="word word-5">легенда</div>
        <div class="word word-6">вкус</div>
    </div>

    <header class="header">
        <img src="images/header-red.webp" alt="Header Red" class="header-red">
        <img src="images/header-yellow.webp" alt="Header Yellow" class="header-yellow">
        <div class="logo-background"></div>
            <img src="images/logo.webp" alt="Logo" class="logo">
        <div class="header-container">
        <div class="nav-buttons">
            <button class="nav-button">Благородные сыры</button>
            <button class="nav-button">Частые вопросы</button>
        </div>
        <div class="right-buttons">
            <button class="quiz-button">
                <span>Пройти сырный квиз</span>
            </button>
            <button class="enter-button">
                <img src="images/enter.webp" alt="Enter">
                <span>Вход</span>
            </button>
            </div>
        </div>
        <div class="burger-menu">
            <div class="burger-line"></div>
            <div class="burger-line"></div>
            <div class="burger-line"></div>
        </div>
    </header>

    <div class="mobile-menu">
        <button class="nav-button">Благородные сыры</button>
        <button class="nav-button">Частые вопросы</button>
        <button class="quiz-button">Пройти сырный квиз</button>
        <button class="enter-button">
            <img src="images/enter.webp" alt="Enter">
            <span>Вход</span>
        </button>
    </div>

    <div class="content-wrapper">
        <img src="images/slate.webp" alt="Slate" class="slate-desktop">
        <img src="images/slate-mobile.webp" alt="Slate" class="slate-mobile">
        <img src="images/honey.webp" alt="Honey" class="product honey">
        <img src="images/brie_.webp" alt="Brie" class="product brie">
        <img src="images/brie-mobile.webp" alt="Brie" class="product brie-mobile">
        <img src="images/brie-box.webp" alt="Brie Box" class="product brie-box">
        <img src="images/camamber-box.webp" alt="Camamber" class="product camamber">
        <img src="images/brush.webp" alt="Brush" class="product brush-desktop">
        <img src="images/brush.webp" alt="Brush" class="product brush-mobile">
        <img src="images/camambert_.webp" alt="Camambert" class="product camambert">
        <img src="images/camambert-mobile.webp" alt="Camambert" class="product camambert-mobile">
        <img src="images/grape.webp" alt="Grape" class="product grape">
    </div>

    <div class="overlay">
        <div class="cards-container">
            <div class="card">
                <div class="card-circle">
                    <span>1</span>
                </div>
                <div class="card-text">Станьте настоящим экспертом в мире благородных сыров!</div>
            </div>
            <div class="card">
                <div class="card-circle">
                    <span>2</span>
                </div>
                <div class="card-text">Раскройте все грани сыров с благородной плесенью President</div>
            </div>
            <div class="card">
                <div class="card-circle">
                    <span>3</span>
                </div>
                <div class="card-text">Примите участие в сырном квизе и выиграйте изысканные призы!</div>
            </div>
        </div>
        <button class="discover-button active"><span>ВПЕРЕД, К БЛАГОРОДНЫМ ОТКРЫТИЯМ!</span></button>
    </div>

    <div class="cheese-modal">
        <img src="images/close.webp" alt="Close" class="cheese-modal-close">
        <div class="cheese-modal-content">
            <h2 class="cheese-modal-title">ОКУНИТЕСЬ В МИР ОТТЕНКОВ ИЗЫСКАННОГО ВКУСА НАСТОЯЩЕГО БЛАГОРОДНОГО СЫРА PRÈSIDENT!</h2>
            <div class="cheese-grid">
                <div class="cheese-card">
                    <img src="images/brie-box-demo.webp" alt="Brie" class="cheese-image">
                    <h3 class="cheese-name">Brie</h3>
                    <p class="cheese-description">Классический сыр с благородной плесенью, знаменитый своей бархатистой корочкой и глубоким сливочным вкусом</p>
                </div>
                <div class="cheese-card">
                    <img src="images/camamber-box-demo.webp" alt="Camembert" class="cheese-image">
                    <h3 class="cheese-name">Camembert</h3>
                    <p class="cheese-description">Легендарный сыр с нежной сердцевиной и пикантным вусом тонкой бархатистой корочки</p>
                </div>
                <div class="cheese-card">
                    <img src="images/cremiot.webp" alt="Le Cremiot Extra Fondant" class="cheese-image">
                    <h3 class="cheese-name">Le Cremiot Extra Fondant</h3>
                    <p class="cheese-description">Сыр с нежнейшей кремовой текстурой, который буквально тает во рту.</p>
                </div>
                <div class="cheese-card">
                    <img src="images/bleu.webp" alt="Royal Blue" class="cheese-image">
                    <h3 class="cheese-name">Royal Blue</h3>
                    <p class="cheese-description">Сыр с голубой плесенью и уникальным вкусом, который достигается благодаря длинному сроку созревания (до 90 дней)</p>
                </div>
                <div class="cheese-card">
                    <img src="images/brique.webp" alt="La Brique" class="cheese-image">
                    <h3 class="cheese-name">La Brique</h3>
                    <p class="cheese-description">Тонкая корочка, текучая текстура и бесподобный вкус с прятными нотками тёплого молока и фундка</p>
                </div>
                <div class="cheese-card">
                    <img src="images/snack.webp" alt="Red Snack" class="cheese-image">
                    <h3 class="cheese-name">Red Snack</h3>
                    <p class="cheese-description">Уникальный насыщенный вкус с пикантными дымными нотками и сливочным послевкусием</p>
                </div>
            </div>
        </div>
    </div>

    <div class="faq-modal">
        <img src="images/close.webp" alt="Close" class="faq-modal-close">
        <div class="faq-modal-content">
            <h2 class="faq-modal-title">Часто задаваемые вопросы</h2>
            <div class="faq-container">
                <div class="faq-item active">
                    <div class="faq-question">
                        <span>Можно ли есть корочку сыра с плесенью?</span>
                        <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                    </div>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            <ul>
                                <li>Да, корочка этих сыров съедобна и придает им особый вкус.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Чем отличается белая и голубая плесень?</span>
                        <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                    </div>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            <ul>
                                <li>Белая плесень образует мягкую, бархатистую корочку, а голубая придает сыру пикантный вкус и мраморную текстуру.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Как правильно хранить благородные сыры?</span>
                        <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                    </div>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            <ul>
                                <li>Лучше всего – в пергаменте или контейнере в отделении для сыра в холодильнике.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>С чем лучше сочетать такие сыры?</span>
                        <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                    </div>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            <ul>
                                <li>Благородные сыры прекрасно подходят к фруктам, орехам, меду, вину и багету.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>В чем отличие Бри от Камамбера?</span>
                        <img src="images/arrow.webp" alt="Arrow" class="faq-arrow">
                    </div>
                    <div class="faq-answer">
                        <div class="faq-answer-content">
                            <ul>
                                <li>Бри и камамбер — оба сыра с благородной белой плесенью, но с рядом различий. Бри немного мягче, сливочнее и выпускается в крупных кругах. Камамбер созревает быстрее, а также  имеет более насыщенный вкус и выраженный грибной аромат. У камамбера плотная корочка и текучая текстура, у бри — нежнее и кремовее.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="quiz-modal">
        <div class="quiz-modal-content">
            <img src="images/quiz-1.webp" alt="Quiz" class="quiz-image quiz-image-1">
            <div class="quiz-text">Пройдите сырный квиз, чтобы узнать больше о настоящих благородных сырах и принять участие в розыгрыше приза!</div>
            <div class="quiz-options">
                <button class="quiz-option start-quiz">Начать</button>
                <button class="quiz-rules">Правила акции</button>
            </div>
        </div>
    </div>

    <div class="auth-modal">
        <div class="auth-modal-content">
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login"><span>ВХОД</span></button>
                <button class="auth-tab" data-tab="register"><span>РЕГИСТРАЦИЯ</span></button>
            </div>
            
            <form id="authForm" class="auth-form active">
                <div class="form-group register-only">
                    <label>Имя</label>
                    <input type="text" name="name" placeholder="Пантелеймон">
                    <div class="error-message"></div>
                </div>
                <div class="form-group register-only">
                    <label>Фамилия</label>
                    <input type="text" name="surname" placeholder="Портнов">
                    <div class="error-message"></div>
                </div>
                <div class="form-group">
                    <label>E-mail</label>
                    <input type="text" name="email" placeholder="khristaroj@gmail.com">
                    <div class="error-message show">поле заполнено неправильно</div>
                </div>
                <div class="form-group">
                    <label>Пароль</label>
                    <input type="text" name="password" placeholder="Придумайте пароль">
                    <div class="error-message"></div>
                </div>
                <div class="form-group register-only">
                    <label>Телефон</label>
                    <input type="text" name="phone" placeholder="+7 999 888-66-77">
                    <div class="error-message"></div>
                </div>
                <div class="form-checkbox login-only">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Запомнить меня</label>
                </div>
                <div class="form-checkbox register-only">
                    <input type="checkbox" id="authRules" required>
                    <label for="authRules">
                        Я соглашаюсь с <button type="button" class="rules-link">Правилами</button>
                    </label>
                </div>
                <button type="submit" class="auth-submit"><span>Войти</span></button>
            </form>
        </div>
    </div>

    <div class="choose-cheese-container">
        <button class="cheese-choice-button"><span>PRÉSIDENT БРИ</span></button>
        <button class="cheese-choice-button"><span>PRÉSIDENT КАМАМБЕР</span></button>
        <button class="cheese-choice-button"><span>PRÉSIDENT ROUAL BLEU</span></button>
        <button class="cheese-choice-button"><span>PRÉSIDENT EXTRA FOUNDANT</span></button>
    </div>

    <div class="mobile-slider">
        <div class="slider-container">
            <div class="slider-track">
                <div class="slide">
                    <img src="images/petite.webp" alt="Petite" class="slide-image petite-slider">
                    <button class="slide-button"><span>PRÉSIDENT БРИ</span></button>
                </div>
                <div class="slide">
                    <img src="images/camamber-box-shadow.webp" alt="Camamber" class="slide-image camamber-box-slider">
                    <button class="slide-button"><span>PRÉSIDENT КАМАМБЕР</span></button>
                </div>
                <div class="slide">
                    <img src="images/bleu-shadow.webp" alt="Blue" class="slide-image blue-slider">
                    <button class="slide-button"><span>PRÉSIDENT ROUAL BLEU</span></button>
                </div>
                <div class="slide">
                    <img src="images/fondant.webp" alt="Fondant" class="slide-image fondant-slider">
                    <button class="slide-button"><span>PRÉSIDENT EXTRA FOUNDANT</span></button>
                </div>
            </div>
        </div>
        <button class="slider-arrow slider-arrow-left">
            <img src="images/arrow-left.webp" alt="Previous">
        </button>
        <button class="slider-arrow slider-arrow-right">
            <img src="images/arrow-right.webp" alt="Next">
        </button>
    </div>

    <div class="cheese-text-container">
        <h2 class="cheese-title">Раскройте все грани благородного вкуса с Président!</h2>
        <p class="cheese-subtitle">Выберите сыр, о котором хотите узнать больше</p>
    </div>

    <img src="images/petite.webp" alt="Petite" class="cheese-image petite">
    <img src="images/camamber-box-shadow.webp" alt="camamber" class="cheese-image camamber-box">
    <img src="images/bleu-shadow.webp" alt="blue" class="cheese-image blue">
    <img src="images/fondant.webp" alt="fondant" class="cheese-image fondant">

    <script>
        let isFirstLoad = true;
        const slateMobile = document.querySelector('.slate-mobile');
        const slateDesktop = document.querySelector('.slate-desktop');
        const burgerMenu = document.querySelector('.burger-menu');
        const wordDrums = document.querySelectorAll('.word-drum');
        const brushMobile = document.querySelector('.brush-mobile');
        const brushDesktop = document.querySelector('.brush-desktop');
        const mobileMenu = document.querySelector('.mobile-menu');
        const overlay = document.querySelector('.overlay');
        const cardsContainer = document.querySelector('.cards-container');
        const discoverButton = document.querySelector('.discover-button');
        const cheeseModal = document.querySelector('.cheese-modal');
        const cheeseModalClose = document.querySelector('.cheese-modal-close');
        const nobleCheeseButtons = document.querySelectorAll('.nav-button:first-child');
        const placeholderContainer = document.querySelector('.placeholder-container');
        const placeholderShadow = document.querySelector('.placeholder-shadow');
        const products = document.querySelectorAll('.product');
        const header = document.querySelector('.header');
        const faqModal = document.querySelector('.faq-modal');
        const faqModalClose = document.querySelector('.faq-modal-close');
        const faqItems = document.querySelectorAll('.faq-item');
        const faqButtons = document.querySelectorAll('.nav-button:nth-child(2)');

        const quizModal = document.querySelector('.quiz-modal');
        const quizButtons = document.querySelectorAll('.quiz-button');
        const startQuizButton = document.querySelector('.start-quiz');
        const quizRulesButton = document.querySelector('.quiz-rules');
        let currentStep = 0;

        const quizData = [
            {
                image: 'quiz-1.webp',
                text: 'Пройдите сырный квиз,</br> чтобы узнать больше о настоящих</br> благородных сырах и принять</br> участие в розыгрыше приза!',
                options: ['Начать!', 'Правила акции'],
                isStart: true
            },
            {
                image: 'quiz-2.webp',
                questionNumber: '1/5',
                text: 'Какой температуры стоит</br> подавать настоящий Камамбер?',
                options: ['Холодным', 'Горячим', 'Комнатной температуры'],
                correctAnswer: 'Комнатной температуры',
                description: 'Камамбер Président рекомендуется</br> продержать около получаса</br> при комнатной температуре. Именно</br> тогда его уникальные вкусовые качества</br> смогут раскрыться полностью.'
            },
            {
                image: 'quiz-3.webp',
                questionNumber: '2/5',
                text: 'Каким ножом лучше нарезать</br> настоящий Бри?',
                options: ['Ножом для чистки овощей', 'Ножом с перфорацией', 'Хлебным ножом'],
                correctAnswer: 'Ножом с перфорацией',
                description: 'для нарезки Бри Président идеально</br> подойдёт специальный нож</br> с перфорацией. Если вы нарезаете</br> сыр обычным ножом, то рекомендуется</br> смочить лезвие тёплой водой.'
            },
            {
                image: 'quiz-4.webp',
                questionNumber: '3/5',
                text: 'Что придаёт настоящему</br> Камамберу особый пикантный</br> вкус?',
                options: ['Культуры Geotrichum candidum', 'Особые специи', 'Penicillium candidum'],
                correctAnswer: 'Культуры Geotrichum candidum',
                description: 'Камамбер Président обладает пикантным,</br> слегка острым вкусом благодаря</br> большему количеству Geotrichum</br> candidum, используемых</br> при изготовлении.'
            },
            {
                image: 'quiz-5.webp',
                questionNumber: '4/5',
                text: 'Какое из утверждений верно?',
                options: [
                    'Камамбер имеет более грибной вкус и тонкую корочку, а Бри более</br> сливочный вкус и мягкий внутри',
                    'У Бри более толстая корочка,</br> чем у Камамбера.',
                    'Камамбер не имеет корочки, в отличие</br> от Бри, который всегда имеет</br> выраженную корочку.'
                ],
                correctAnswer: 'Камамбер имеет более</br> грибной вкус и тонкую корочку, а Бри более</br> сливочный вкус и мягкий внутри',
                description: 'Камамбер обычно имеет более</br> насыщенный грибной вкус и более</br> тонкую корочку, в то время</br> как Бри может быть более мягким</br> и сливочным.'
            },
            {
                image: 'logo.webp',
                questionNumber: '5/5',
                text: 'В каком году начинается история</br> камамбера Président?',
                options: ['2016', '1952', '1968'],
                correctAnswer: '1968',
                description: 'в 1968 компания Lactalis выпускает</br> камамбер под новой торговой маркой</br> Président, которая стала символом</br> традиций, мастерства и высокого</br> качества.'
            },
            {
                image: 'quiz-1.webp',
                text: 'Поздравляем, вы прошли квиз.</br> Примите участие в розыгрыше</br> специального приза — </br>Сертификат ЯндексGO на 500 ₽!',
                options: ['Участвовать в розыгрыше'],
                isFinal: true
            }
        ];

        function updateQuizContent(step) {
            const content = quizModal.querySelector('.quiz-modal-content');
            const data = quizData[step];
            
            // Сначала скрываем текущие элементы
            const currentImage = content.querySelector('.quiz-image');
            const currentText = content.querySelector('.quiz-text');
            if (currentImage) currentImage.classList.remove('visible');
            if (currentText) currentText.classList.remove('visible');
            
            // Обновляем контент
            content.innerHTML = `
                <img src="images/close.webp" alt="Close" class="quiz-modal-close">
                <img src="images/${data.image}" alt="Quiz" class="quiz-image quiz-image-${step + 1}">
                ${data.questionNumber ? `<div class="quiz-question-number">${data.questionNumber}</div>` : ''}
                <div class="quiz-text">${data.text}</div>
                <div class="quiz-options">
                    ${data.isStart ? `
                        <button class="quiz-option"><span>${data.options[0]}</span></button>
                        <button class="quiz-rules">${data.options[1]}</button>
                    ` : data.options.map(option => `
                        <button class="quiz-option"><span>${option}</span></button>
                    `).join('')}
                </div>
            `;

            // Добавляем обработчик для кнопки закрытия
            const closeButton = content.querySelector('.quiz-modal-close');
            if (closeButton) {
                closeButton.addEventListener('click', closeQuizModal);
            }

            // Добавляем классы visible с небольшой задержкой для анимации
            requestAnimationFrame(() => {
                const newImage = content.querySelector('.quiz-image');
                const newText = content.querySelector('.quiz-text');
                const options = content.querySelector('.quiz-options');
                
                if (newImage) newImage.classList.add('visible');
                if (newText) newText.classList.add('visible');
                if (options) options.classList.add('visible');
            });

            if (data.isStart) {
                const startButton = content.querySelector('.quiz-option');
                const rulesButton = content.querySelector('.quiz-rules');
                startButton.addEventListener('click', () => updateQuizContent(1));
                rulesButton.addEventListener('click', () => {
                    // Здесь можно добавить логику для показа правил акции
                    alert('Правила акции будут добавлены позже');
                });
            } else if (data.isFinal) {
                const participateButton = content.querySelector('.quiz-option');
                participateButton.addEventListener('click', () => {
                    // Здесь можно добавить логику для участия в розыгрыше
                    alert('Спасибо за участие!');
                    closeQuizModal();
                });
            } else {
                const options = content.querySelectorAll('.quiz-option');
                options.forEach(option => {
                    option.addEventListener('click', () => {
                        const isCorrect = option.querySelector('span').textContent === data.correctAnswer;
                        
                        // Скрываем текущие элементы
                        const currentImage = content.querySelector('.quiz-image');
                        const currentText = content.querySelector('.quiz-text');
                        if (currentImage) currentImage.classList.remove('visible');
                        if (currentText) currentText.classList.remove('visible');
                        
                        content.innerHTML = `
                            <img src="images/${data.image}" alt="Quiz" class="quiz-image quiz-image-${step + 1}">
                            <div class="quiz-question-number">${data.questionNumber}</div>
                            <div class="quiz-text">${data.text}</div>
                            <div class="quiz-result">${isCorrect ? 'Правильно!' : 'Не правильно'}</div>
                            <div class="quiz-description">${data.description}</div>
                            <button class="quiz-next"><span>Далее</span></button>
                        `;
                        
                        // Добавляем классы visible с небольшой задержкой для анимации
                        requestAnimationFrame(() => {
                            const newImage = content.querySelector('.quiz-image');
                            const newText = content.querySelector('.quiz-text');
                            const nextButton = content.querySelector('.quiz-next');
                            
                            if (newImage) newImage.classList.add('visible');
                            if (newText) newText.classList.add('visible');
                            if (nextButton) nextButton.classList.add('visible');
                        });
                        
                        const nextButton = content.querySelector('.quiz-next');
                        nextButton.addEventListener('click', () => {
                            if (step < quizData.length - 1) {
                                updateQuizContent(step + 1);
                            }
                        });
                    });
                });
            }
        }

        function openQuizModal() {
            quizModal.classList.add('active');
            document.body.style.overflow = 'hidden';
            currentStep = 0;
            updateQuizContent(currentStep);
        }

        function closeQuizModal() {
            quizModal.classList.remove('active');
            document.body.style.overflow = '';
        }

        quizButtons.forEach(button => {
            button.addEventListener('click', openQuizModal);
        });

        quizModal.addEventListener('click', (e) => {
            if (e.target === quizModal) {
                closeQuizModal();
            }
        });

        // Функция для применения анимации
        function applyAnimation(element, animationName) {
            if (!element) return;
            element.style.animation = 'none';
            element.offsetHeight;
            element.style.animation = `${animationName} 1s ease-in-out forwards`;
        }

        // Функция для показа продуктов
        function showProducts() {
            products.forEach(product => {
                if (!product) return;
                product.classList.add('active');
                
                if (window.innerWidth <= 768) {
                    if (product.classList.contains('slate-mobile')) {
                        applyAnimation(product, 'firstShowSlateMobile');
                    } else if (product.classList.contains('brie-mobile')) {
                        applyAnimation(product, 'showBrieMobile');
                    } else if (product.classList.contains('camambert-mobile')) {
                        applyAnimation(product, 'showCamambertMobile');
                    } else if (product.classList.contains('brush-mobile')) {
                        applyAnimation(product, 'showBrushMobile');
                    } else if (product.classList.contains('grape')) {
                        applyAnimation(product, 'showGrapeMobile');
                    } else if (product.classList.contains('camamber')) {
                        applyAnimation(product, 'showCamamberMobile');
                    } else if (product.classList.contains('brie-box')) {
                        applyAnimation(product, 'showBrieBoxMobile');
                    }
                } else {
                    if (product.classList.contains('honey')) {
                        applyAnimation(product, 'showHoney');
                    } else if (product.classList.contains('brie')) {
                        applyAnimation(product, 'showBrie');
                    } else if (product.classList.contains('brie-box')) {
                        applyAnimation(product, 'showBrieBox');
                    } else if (product.classList.contains('camamber')) {
                        applyAnimation(product, 'showCamamber');
                    } else if (product.classList.contains('brush-desktop')) {
                        applyAnimation(product, 'showBrushDesktop');
                    } else if (product.classList.contains('camambert')) {
                        applyAnimation(product, 'showCamambert');
                    } else if (product.classList.contains('grape')) {
                        applyAnimation(product, 'showGrape');
                    }
                }
            });

            if (window.innerWidth <= 768) {
                if (slateMobile) {
                    slateMobile.classList.add('active');
                    applyAnimation(slateMobile, 'firstShowSlateMobile');
                }
            } else {
                if (slateDesktop) {
                    slateDesktop.classList.add('active');
                    applyAnimation(slateDesktop, 'showSlateDesktop');
                }
            }
        }

        // Функция для скрытия продуктов
        function hideProducts(context = 'discover') {
            products.forEach(product => {
                if (!product) return;
                
                if (window.innerWidth <= 768) {
                    if (product.classList.contains('brie-mobile')) {
                        applyAnimation(product, context === 'burger' ? 'hideBrieMobile' : 'hideSideBrieMobile');
                    } else if (product.classList.contains('camambert-mobile')) {
                        applyAnimation(product, context === 'burger' ? 'hideCamambertMobile' : 'hideSideCamambertMobile');
                    } else if (product.classList.contains('brush-mobile')) {
                        applyAnimation(product, context === 'burger' ? 'hideBrushMobile' : 'hideSideBrushMobile');
                    } else if (product.classList.contains('grape')) {
                        applyAnimation(product, context === 'burger' ? 'hideGrapeMobile' : 'hideSideGrapeMobile');
                    } else if (product.classList.contains('camamber')) {
                        applyAnimation(product, context === 'burger' ? 'hideCamamberMobile' : 'hideSideCamamberMobile');
                    } else if (product.classList.contains('brie-box')) {
                        applyAnimation(product, context === 'burger' ? 'hideBrieBox' : 'hideSideBrieBox');
                    }
                } else {
                    if (product.classList.contains('honey')) {
                        applyAnimation(product, 'hideHoney');
                    } else if (product.classList.contains('brie')) {
                        applyAnimation(product, 'hideBrie');
                    } else if (product.classList.contains('brie-box')) {
                        applyAnimation(product, 'hideBrieBox');
                    } else if (product.classList.contains('camamber')) {
                        applyAnimation(product, 'hideCamamber');
                    } else if (product.classList.contains('brush-desktop')) {
                        applyAnimation(product, 'hideBrushDesktop');
                    } else if (product.classList.contains('camambert')) {
                        applyAnimation(product, 'hideCamambert');
                    } else if (product.classList.contains('grape')) {
                        applyAnimation(product, 'hideGrape');
                    }
                }
            });

            if (window.innerWidth <= 768) {
                if (slateMobile) {
                    // slateMobile.classList.remove('active');
                    // slateMobile.style.animation = 'none';
                    // slateMobile.offsetHeight;
                    // slateMobile.style.bottom = '-200vh';
                    // slateMobile.style.left = '150%';
                    // slateMobile.style.opacity = '0';
                }
            } else {
                if (slateDesktop) {
                    applyAnimation(slateDesktop, 'scaleUpSlateDesktop');
                }
            }
        }

        // Функция для скрытия слов
        function hideWords() {
            wordDrums.forEach(drum => {
                drum.style.animation = 'none';
                drum.offsetHeight;
                drum.style.animation = 'hideWords 0.5s ease-in-out forwards';
            });

            // Скрываем кисть
            const brush = window.innerWidth <= 768 ? brushMobile : brushDesktop;
            if (brush) {
                brush.style.animation = 'none';
                brush.offsetHeight;
                brush.style.animation = 'hideBrush 0.5s ease-in-out forwards';
            }
        }

        // Функция для показа слов
        function showWords() {
            wordDrums.forEach(drum => {
                drum.style.animation = 'none';
                drum.offsetHeight;
                drum.style.animation = 'showWords 0.5s ease-in-out forwards';
            });
        }

        // Функция для показа карточек
        function showCards() {
            // Проверяем, не открыто ли бургер-меню
            if (burgerMenu.classList.contains('active')) {
                return; // Если меню открыто, не показываем карточки
            }
            
            hideWords();
            setTimeout(() => {
                overlay.classList.add('active');
                cardsContainer.classList.add('active');
                discoverButton.classList.add('active');
            }, 500);
        }

        function hideCards() {
            // Проверяем, не открыто ли бургер-меню
            if (burgerMenu.classList.contains('active')) {
                return; // Если меню открыто, не показываем элементы выбора сыра
            }

            cardsContainer.classList.add('hiding');
            discoverButton.classList.add('hiding');
            hideProducts('discover');
            
            setTimeout(() => {
                overlay.classList.remove('active');
                cardsContainer.classList.remove('active');
                cardsContainer.classList.remove('hiding');
                discoverButton.classList.remove('active');
                discoverButton.classList.remove('hiding');
                
                // Показываем текстовый блок
                const textContainer = document.querySelector('.cheese-text-container');
                textContainer.classList.add('active');

                // Показываем кнопки выбора сыра
                const chooseCheeseContainer = document.querySelector('.choose-cheese-container');
                chooseCheeseContainer.classList.add('active');

                // Показываем изображение petite
                const petiteImage = document.querySelector('.petite');
                petiteImage.style.animation = 'none';
                petiteImage.offsetHeight; // Форсируем перерисовку
                petiteImage.style.animation = 'showPetite 1s ease-out forwards';
                petiteImage.classList.add('active');
                // Показываем изображение camamber-box
                const camamberBox = document.querySelector('.camamber-box');
                camamberBox.style.animation = 'none';
                camamberBox.offsetHeight; // Форсируем перерисовку
                camamberBox.style.animation = 'showCamamberBox 1s ease-out forwards';
                camamberBox.classList.add('active');
                // Показываем изображение blue
                const blue = document.querySelector('.blue');
                blue.style.animation = 'none';
                blue.offsetHeight; // Форсируем перерисовку
                blue.style.animation = 'showBlue 1.5s ease-out forwards';
                blue.classList.add('active');
                // Показываем изображение fondant
                const fondant = document.querySelector('.fondant');
                fondant.style.animation = 'none';
                fondant.offsetHeight; // Форсируем перерисовку
                fondant.style.animation = 'showFondant 1s ease-out forwards';
                fondant.classList.add('active');
            }, 1000);
        }

        // Добавляем обработчик клика для кнопки
        discoverButton.addEventListener('click', hideCards);

        // При загрузке страницы
        window.addEventListener('load', function() {
            // Запускаем анимацию preloader
            placeholderShadow.classList.add('active');
            
            // 1. Сначала показываем preloader (5 секунд)
            setTimeout(() => {
                // 2. Скрываем preloader и показываем header
                applyAnimation(placeholderContainer, 'hidePlaceholder');
                if (header) {
                    header.classList.add('active');
                }
                
                // 3. Через 1 секунду показываем продукты и слова
                setTimeout(() => {
                    showProducts();
                    showWords();
                    
                    // 4. Через 2 секунды показываем карточки
                    setTimeout(showCards, 5000);
                }, 1000);
            }, 5000);
        });

        // При клике на бургер-меню
        burgerMenu.addEventListener('click', function() {
            this.classList.toggle('active');
            document.querySelector('.content-wrapper').classList.toggle('menu-active');
            mobileMenu.classList.toggle('active');
            
            if (this.classList.contains('active')) {
                hideProducts('burger');
                hideWords();
                
                // Скрываем overlay и карточки
                overlay.classList.remove('active');
                cardsContainer.classList.remove('active');
                discoverButton.classList.remove('active');
                
                // Скрываем элементы выбора сыра
                const chooseCheeseContainer = document.querySelector('.choose-cheese-container');
                const cheeseTextContainer = document.querySelector('.cheese-text-container');
                const cheeseImages = document.querySelectorAll('.cheese-image');
                
                if (chooseCheeseContainer) chooseCheeseContainer.classList.remove('active');
                if (cheeseTextContainer) cheeseTextContainer.classList.remove('active');
                
                // Скрываем все изображения сыров
                cheeseImages.forEach(image => {
                    image.classList.remove('active');
                    image.style.animation = 'none';
                    image.offsetHeight; // Форсируем перерисовку
                });
                
                applyAnimation(slateMobile, 'hideSlateMobile');
            } else {
                showProducts();
                applyAnimation(slateMobile, 'showSlateMobile');

                setTimeout(() => {
                    showCards();
                }, 500);
            }
        })

        // Функция для открытия модального окна с сырами
        function openCheeseModal() {
            cheeseModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Функция для закрытия модального окна с сырами
        function closeCheeseModal() {
            cheeseModal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Добавляем обработчики событий для кнопок
        nobleCheeseButtons.forEach(button => {
            button.addEventListener('click', openCheeseModal);
        });

        // Обработчик для кнопки закрытия
        cheeseModalClose.addEventListener('click', closeCheeseModal);

        // Закрытие по клику вне контента
        cheeseModal.addEventListener('click', (e) => {
            const rect = e.target.getBoundingClientRect();
            const clickY = e.clientY;
            const topThreshold = rect.top + 50;
            const bottomThreshold = rect.bottom - 50;

            if (clickY <= topThreshold || clickY >= bottomThreshold) {
                closeCheeseModal();
            }
        });

        // Функция для открытия FAQ модального окна
        function openFaqModal() {
            faqModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Функция для закрытия FAQ модального окна
        function closeFaqModal() {
            faqModal.classList.remove('active');
            document.body.style.overflow = '';
            // Закрываем все аккордионы при закрытии модального окна
            faqItems.forEach(item => {
                item.classList.remove('active');
            });
        }

        // Добавляем обработчики событий для кнопок FAQ
        faqButtons.forEach(button => {
            button.addEventListener('click', openFaqModal);
        });

        // Обработчик для кнопки закрытия
        faqModalClose.addEventListener('click', closeFaqModal);

        // Закрытие по клику вне контента
        faqModal.addEventListener('click', (e) => {
            if (e.target === faqModal) {
                closeFaqModal();
            }
        });

        // Обработка аккордионов
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            question.addEventListener('click', () => {
                // Закрываем все остальные аккордионы
                faqItems.forEach(otherItem => {
                    if (otherItem !== item) {
                        otherItem.classList.remove('active');
                    }
                });
                // Переключаем текущий аккордион
                item.classList.toggle('active');
            });
        });

        // Авторизация и регистрация
        const authModal = document.querySelector('.auth-modal');
        const authTabs = document.querySelectorAll('.auth-tab');
        const authForms = document.querySelectorAll('.auth-form');
        const enterButtons = document.querySelectorAll('.enter-button');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');

        // Функция для открытия модального окна авторизации
        function openAuthModal() {
            authModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Функция для закрытия модального окна авторизации
        function closeAuthModal() {
            authModal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Обработчики для кнопок входа
        enterButtons.forEach(button => {
            button.addEventListener('click', openAuthModal);
        });

        // Закрытие по клику вне контента
        authModal.addEventListener('click', (e) => {
            if (e.target === authModal) {
                closeAuthModal();
            }
        });

        // Переключение между вкладками
        authTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetForm = tab.dataset.tab;
                
                // Обновляем активные классы для вкладок
                authTabs.forEach(t => {
                    t.classList.remove('active');
                    t.style.backgroundColor = '#B10000';
                });
                tab.classList.add('active');
                tab.style.backgroundColor = '#E30613';
                
                // Обновляем атрибут data-form для анимации высоты
                const modalContent = document.querySelector('.auth-modal-content');
                modalContent.setAttribute('data-form', targetForm);
                
                // Обновляем форму
                const authForm = document.getElementById('authForm');
                authForm.setAttribute('data-form', targetForm);
                
                // Обновляем текст кнопки
                const submitButton = authForm.querySelector('.auth-submit');
                submitButton.innerHTML = `<span>${targetForm === 'login' ? 'Войти' : 'Зарегистрироваться'}</span>`;
                
                // Обновляем required атрибуты
                const registerFields = authForm.querySelectorAll('.register-only input');
                registerFields.forEach(field => {
                    field.required = targetForm === 'register';
                });
            });
        });

        // Обработка формы
        const authForm = document.getElementById('authForm');
        authForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(authForm);
            const data = Object.fromEntries(formData.entries());
            const isLogin = authForm.getAttribute('data-form') === 'login';
            
            try {
                if(isLogin) {
                    showSuccessScreen();
                } else {
                    showSuccessScreen();
                }

                const endpoint = isLogin ? '/api/login' : '/api/register';
                const response = await fetch(endpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                if (response.ok) {
                    const responseData = await response.json();
                    closeAuthModal();
                } else {
                    alert(isLogin ? 'Ошибка входа. Проверьте email и пароль.' : 'Ошибка регистрации. Возможно, email уже используется.');
                }
            } catch (error) {
                console.error('Ошибка:', error);
                alert(`Произошла ошибка при попытке ${isLogin ? 'входа' : 'регистрации'}`);
            }
        });

        // Обработка клика по ссылке "Правила"
        const rulesLink = document.querySelector('.rules-link');
        rulesLink.addEventListener('click', () => {
            // Здесь можно добавить логику для показа правил акции
            alert('Правила акции будут добавлены позже');
        });

        function showSuccessScreen() {
            const modalContent = document.querySelector('.auth-modal-content');
            const authTabs = document.querySelector('.auth-tabs');
            const authForm = document.getElementById('authForm');
            
            modalContent.classList.add('success');
            authTabs.style.display = 'none';
            authForm.style.display = 'none';
            
            const successContent = document.createElement('div');
            successContent.className = 'success-content active';
            successContent.innerHTML = `
                <img src="images/sticker.webp" alt="Sticker" class="success-sticker">
                <h2 class="success-title">Спасибо за регистрацию! 🎉</h2>
                <p class="success-description">Добавьте благородного вкуса в общение с нашим сырным стикерпаком в Telegram!</p>
                <a href="#" class="success-button"><span>Скачать стикеры</span></a>
            `;
            
            modalContent.appendChild(successContent);
        }

        // Слайдер для мобильной версии
        const mobileSlider = document.querySelector('.mobile-slider');
        const sliderTrack = document.querySelector('.slider-track');
        const slides = document.querySelectorAll('.slide');
        const prevButton = document.querySelector('.slider-arrow-left');
        const nextButton = document.querySelector('.slider-arrow-right');
        let currentSlide = 0;

        function updateSlider() {
            sliderTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
        }

        function showSlide(index) {
            currentSlide = index;
            updateSlider();
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            updateSlider();
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            updateSlider();
        }

        // Добавляем обработчики событий для кнопок
        if (prevButton && nextButton) {
            prevButton.addEventListener('click', prevSlide);
            nextButton.addEventListener('click', nextSlide);
        }

        // Показываем слайдер при клике на кнопку "discover"
        discoverButton.addEventListener('click', () => {
            if (window.innerWidth <= 768) {
                setTimeout(() => {
                    mobileSlider.classList.add('active');
                }, 1000);
            }
        });

        // Скрываем слайдер при открытии бургер-меню
        burgerMenu.addEventListener('click', () => {
            if (burgerMenu.classList.contains('active')) {
                mobileSlider.classList.remove('active');
            }
        });
    </script>
</body>
</html>